const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/angular-html-CGDGYtiS.js","assets/html-Z-jPWkqI.js","assets/javascript-DFyEbC5y.js","assets/css-l46fsARh.js","assets/angular-ts-5zO4eZho.js","assets/scss-CHxzYwli.js","assets/apl-DnQuo7r7.js","assets/xml-BsgRw6d1.js","assets/java-DtRXFtDl.js","assets/json-LWN7Ml79.js","assets/astro-B5Br1cQb.js","assets/typescript-DI7mmMRd.js","assets/postcss-CeUBPB2S.js","assets/tsx-DYwE5ssU.js","assets/blade-C76tewJX.js","assets/html-derivative-CUTCBBy5.js","assets/sql-BhJCBb_s.js","assets/bsl-DGicdwC0.js","assets/sdbl-BpucmfEo.js","assets/cairo-Dz8fl918.js","assets/python-DlV7vnVD.js","assets/cobol-DQUyVTuR.js","assets/coffee-BDkVV41o.js","assets/cpp-BmKY377x.js","assets/regexp-CpyjTnFF.js","assets/glsl-BDbjGBhJ.js","assets/c-BmJt9k-y.js","assets/crystal-CaN4TS0s.js","assets/shellscript-B8OHlvmy.js","assets/edge-BEMgb-sr.js","assets/elixir-BkUQLiPT.js","assets/elm-DmpuOW2E.js","assets/erb-cvdOxzy-.js","assets/ruby-DX9Eh9Jv.js","assets/haml-DvFFb5cL.js","assets/graphql-DTlHKpVh.js","assets/jsx-g2NrEQII.js","assets/lua-B09NiSMa.js","assets/yaml-c2-Vhxho.js","assets/erlang-DAw79KxH.js","assets/markdown-DY93LJPj.js","assets/fortran-fixed-form-BiRvzwyR.js","assets/fortran-free-form-CakU9R0a.js","assets/fsharp-BmLNaTNL.js","assets/gdresource-BLuZCTp3.js","assets/gdshader-BC7WJXp9.js","assets/gdscript-fffAh1pn.js","assets/git-commit-Bptnmh-c.js","assets/diff-Beq1YlA8.js","assets/git-rebase-C47RzcQS.js","assets/glimmer-js-Bxt49MuP.js","assets/glimmer-ts-BsGfVpaS.js","assets/hack-B6RDfhIS.js","assets/handlebars--3HEtxsY.js","assets/http-C5yS503b.js","assets/hurl-DX_i18ky.js","assets/csv-DXKU4rRd.js","assets/hxml-DB3_nACV.js","assets/haxe-D-PmAGDa.js","assets/jinja-CEGI0ERt.js","assets/jison-rKmQmF2-.js","assets/julia-cok74C3v.js","assets/r-EOoB7omE.js","assets/latex-CS-QvtM-.js","assets/tex-C-BO_DSa.js","assets/liquid-C2bTOIx_.js","assets/marko-2xMnbWEh.js","assets/less-DKKxO4Pm.js","assets/mdc-BKY8rYwz.js","assets/nginx-CtwUG8yW.js","assets/nim-BDZhFo_A.js","assets/perl-BemjezQW.js","assets/php-8bIhiPC7.js","assets/pug-zcj1uJy9.js","assets/qml-DTv-54bL.js","assets/razor-BYJ7gYzI.js","assets/csharp-D3FXe4qe.js","assets/rst-DJoKdtV3.js","assets/cmake-BYiqpiH1.js","assets/sas-BBCK0tAG.js","assets/shaderlab-DNyPh2Q6.js","assets/hlsl-B-PjNM4a.js","assets/shellsession-OATBsyRD.js","assets/soy-Dz-Bkr4l.js","assets/sparql-CLNNOQQI.js","assets/turtle-BVy4HXn4.js","assets/stata-G4GYNNPE.js","assets/svelte-ChRP14-8.js","assets/templ-BpwXGbW_.js","assets/go-BR7YH85S.js","assets/ts-tags-DAT_GLYZ.js","assets/twig-C9hrCNMV.js","assets/vue-D3w_7BFv.js","assets/vue-html-a8uCr53v.js","assets/vue-vine-2Gx6KHOr.js","assets/stylus-BeJftkpb.js","assets/xsl-DCNnPbrB.js"])))=>i.map(i=>d[i]);
import{w as e,s as t,f as r,a as n,b as s,c as o,z as i,h as a,d as c,_ as l,r as u,C as p,j as d,D as h,u as m}from"./index-BUsae90O.js";let g=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function f(e){return Array.isArray(e)?function(e){let t=[];for(let r=0,n=e.length;r<n;r++)t[r]=f(e[r]);return t}(e):e instanceof RegExp?e:"object"==typeof e?function(e){let t={};for(let r in e)t[r]=f(e[r]);return t}(e):e}function _(e,...t){return t.forEach(t=>{for(let r in t)e[r]=t[r]}),e}function y(e){const t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===t?e:~t===e.length-1?y(e.substring(0,e.length-1)):e.substr(1+~t)}var E=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,b=class{static hasCaptures(e){return null!==e&&(E.lastIndex=0,E.test(e))}static replaceCaptures(e,t,r){return e.replace(E,(e,n,s,o)=>{let i=r[parseInt(n||s,10)];if(!i)return e;{let e=t.substring(i.start,i.end);for(;"."===e[0];)e=e.substring(1);switch(o){case"downcase":return e.toLowerCase();case"upcase":return e.toUpperCase();default:return e}}})}};function w(e,t){return e<t?-1:e>t?1:0}function k(e,t){if(null===e&&null===t)return 0;if(!e)return-1;if(!t)return 1;let r=e.length,n=t.length;if(r===n){for(let n=0;n<r;n++){let r=w(e[n],t[n]);if(0!==r)return r}return 0}return r-n}function A(e){return!!/^#[0-9a-f]{6}$/i.test(e)||(!!/^#[0-9a-f]{8}$/i.test(e)||(!!/^#[0-9a-f]{3}$/i.test(e)||!!/^#[0-9a-f]{4}$/i.test(e)))}function C(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var I=class{constructor(e){this.fn=e}cache=new Map;get(e){if(this.cache.has(e))return this.cache.get(e);const t=this.fn(e);return this.cache.set(e,t),t}},L=class{constructor(e,t,r){this._colorMap=e,this._defaults=t,this._root=r}static createFromRawTheme(e,t){return this.createFromParsedTheme(function(e){if(!e)return[];if(!e.settings||!Array.isArray(e.settings))return[];let t=e.settings,r=[],n=0;for(let s=0,o=t.length;s<o;s++){let e,o=t[s];if(!o.settings)continue;if("string"==typeof o.scope){let t=o.scope;t=t.replace(/^[,]+/,""),t=t.replace(/[,]+$/,""),e=t.split(",")}else e=Array.isArray(o.scope)?o.scope:[""];let i=-1;if("string"==typeof o.settings.fontStyle){i=0;let e=o.settings.fontStyle.split(" ");for(let t=0,r=e.length;t<r;t++){switch(e[t]){case"italic":i|=1;break;case"bold":i|=2;break;case"underline":i|=4;break;case"strikethrough":i|=8}}}let a=null;"string"==typeof o.settings.foreground&&A(o.settings.foreground)&&(a=o.settings.foreground);let c=null;"string"==typeof o.settings.background&&A(o.settings.background)&&(c=o.settings.background);for(let t=0,l=e.length;t<l;t++){let o=e[t].trim().split(" "),l=o[o.length-1],u=null;o.length>1&&(u=o.slice(0,o.length-1),u.reverse()),r[n++]=new R(l,u,s,i,a,c)}}return r}(e),t)}static createFromParsedTheme(e,t){return function(e,t){e.sort((e,t)=>{let r=w(e.scope,t.scope);return 0!==r?r:(r=k(e.parentScopes,t.parentScopes),0!==r?r:e.index-t.index)});let r=0,n="#000000",s="#ffffff";for(;e.length>=1&&""===e[0].scope;){let t=e.shift();-1!==t.fontStyle&&(r=t.fontStyle),null!==t.foreground&&(n=t.foreground),null!==t.background&&(s=t.background)}let o=new v(t),i=new T(r,o.getId(n),o.getId(s)),a=new j(new N(0,null,-1,0,0),[]);for(let c=0,l=e.length;c<l;c++){let t=e[c];a.insert(0,t.scope,t.parentScopes,t.fontStyle,o.getId(t.foreground),o.getId(t.background))}return new L(o,i,a)}(e,t)}_cachedMatchRoot=new I(e=>this._root.match(e));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(null===e)return this._defaults;const t=e.scopeName,r=this._cachedMatchRoot.get(t).find(t=>function(e,t){if(0===t.length)return!0;for(let r=0;r<t.length;r++){let n=t[r],s=!1;if(">"===n){if(r===t.length-1)return!1;n=t[++r],s=!0}for(;e&&!S(e.scopeName,n);){if(s)return!1;e=e.parent}if(!e)return!1;e=e.parent}return!0}(e.parent,t.parentScopes));return r?new T(r.fontStyle,r.foreground,r.background):null}},P=class e{constructor(e,t){this.parent=e,this.scopeName=t}static push(t,r){for(const n of r)t=new e(t,n);return t}static from(...t){let r=null;for(let n=0;n<t.length;n++)r=new e(r,t[n]);return r}push(t){return new e(this,t)}getSegments(){let e=this;const t=[];for(;e;)t.push(e.scopeName),e=e.parent;return t.reverse(),t}toString(){return this.getSegments().join(" ")}extends(e){return this===e||null!==this.parent&&this.parent.extends(e)}getExtensionIfDefined(e){const t=[];let r=this;for(;r&&r!==e;)t.push(r.scopeName),r=r.parent;return r===e?t.reverse():void 0}};function S(e,t){return t===e||e.startsWith(t)&&"."===e[t.length]}var T=class{constructor(e,t,r){this.fontStyle=e,this.foregroundId=t,this.backgroundId=r}};var R=class{constructor(e,t,r,n,s,o){this.scope=e,this.parentScopes=t,this.index=r,this.fontStyle=n,this.foreground=s,this.background=o}},x=(e=>(e[e.NotSet=-1]="NotSet",e[e.None=0]="None",e[e.Italic=1]="Italic",e[e.Bold=2]="Bold",e[e.Underline=4]="Underline",e[e.Strikethrough=8]="Strikethrough",e))(x||{});var v=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(e){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(let t=0,r=e.length;t<r;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}getId(e){if(null===e)return 0;e=e.toUpperCase();let t=this._color2id[e];if(t)return t;if(this._isFrozen)throw new Error(`Missing color in color map - ${e}`);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t}getColorMap(){return this._id2color.slice(0)}},O=Object.freeze([]),N=class e{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,t,r,n,s){this.scopeDepth=e,this.parentScopes=t||O,this.fontStyle=r,this.foreground=n,this.background=s}clone(){return new e(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let t=[];for(let r=0,n=e.length;r<n;r++)t[r]=e[r].clone();return t}acceptOverwrite(e,t,r,n){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,-1!==t&&(this.fontStyle=t),0!==r&&(this.foreground=r),0!==n&&(this.background=n)}},j=class e{constructor(e,t=[],r={}){this._mainRule=e,this._children=r,this._rulesWithParentScopes=t}_rulesWithParentScopes;static _cmpBySpecificity(e,t){if(e.scopeDepth!==t.scopeDepth)return t.scopeDepth-e.scopeDepth;let r=0,n=0;for(;">"===e.parentScopes[r]&&r++,">"===t.parentScopes[n]&&n++,!(r>=e.parentScopes.length||n>=t.parentScopes.length);){const s=t.parentScopes[n].length-e.parentScopes[r].length;if(0!==s)return s;r++,n++}return t.parentScopes.length-e.parentScopes.length}match(t){if(""!==t){let e,r,n=t.indexOf(".");if(-1===n?(e=t,r=""):(e=t.substring(0,n),r=t.substring(n+1)),this._children.hasOwnProperty(e))return this._children[e].match(r)}const r=this._rulesWithParentScopes.concat(this._mainRule);return r.sort(e._cmpBySpecificity),r}insert(t,r,n,s,o,i){if(""===r)return void this._doInsertHere(t,n,s,o,i);let a,c,l,u=r.indexOf(".");-1===u?(a=r,c=""):(a=r.substring(0,u),c=r.substring(u+1)),this._children.hasOwnProperty(a)?l=this._children[a]:(l=new e(this._mainRule.clone(),N.cloneArr(this._rulesWithParentScopes)),this._children[a]=l),l.insert(t+1,c,n,s,o,i)}_doInsertHere(e,t,r,n,s){if(null!==t){for(let o=0,i=this._rulesWithParentScopes.length;o<i;o++){let i=this._rulesWithParentScopes[o];if(0===k(i.parentScopes,t))return void i.acceptOverwrite(e,r,n,s)}-1===r&&(r=this._mainRule.fontStyle),0===n&&(n=this._mainRule.foreground),0===s&&(s=this._mainRule.background),this._rulesWithParentScopes.push(new N(e,t,r,n,s))}else this._mainRule.acceptOverwrite(e,r,n,s)}},D=class e{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(t){const r=e.getLanguageId(t),n=e.getTokenType(t),s=e.getFontStyle(t),o=e.getForeground(t),i=e.getBackground(t);console.log({languageId:r,tokenType:n,fontStyle:s,foreground:o,background:i})}static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(768&e)>>>8}static containsBalancedBrackets(e){return!!(1024&e)}static getFontStyle(e){return(30720&e)>>>11}static getForeground(e){return(16744448&e)>>>15}static getBackground(e){return(4278190080&e)>>>24}static set(t,r,n,s,o,i,a){let c=e.getLanguageId(t),l=e.getTokenType(t),u=e.containsBalancedBrackets(t)?1:0,p=e.getFontStyle(t),d=e.getForeground(t),h=e.getBackground(t);return 0!==r&&(c=r),8!==n&&(l=n),null!==s&&(u=s?1:0),-1!==o&&(p=o),0!==i&&(d=i),0!==a&&(h=a),(c|l<<8|u<<10|p<<11|d<<15|h<<24)>>>0}};function V(e){return e}function $(e,t){const r=[],n=function(e){let t=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,r=t.exec(e);return{next:()=>{if(!r)return null;const n=r[0];return r=t.exec(e),n}}}(e);let s=n.next();for(;null!==s;){let e=0;if(2===s.length&&":"===s.charAt(1)){switch(s.charAt(0)){case"R":e=1;break;case"L":e=-1;break;default:console.log(`Unknown priority ${s} in scope selector`)}s=n.next()}let t=i();if(r.push({matcher:t,priority:e}),","!==s)break;s=n.next()}return r;function o(){if("-"===s){s=n.next();const e=o();return t=>!!e&&!e(t)}if("("===s){s=n.next();const e=function(){const e=[];let t=i();for(;t&&(e.push(t),"|"===s||","===s);){do{s=n.next()}while("|"===s||","===s);t=i()}return t=>e.some(e=>e(t))}();return")"===s&&(s=n.next()),e}if(M(s)){const e=[];do{e.push(s),s=n.next()}while(M(s));return r=>t(e,r)}return null}function i(){const e=[];let t=o();for(;t;)e.push(t),t=o();return t=>e.every(e=>e(t))}}function M(e){return!!e&&!!e.match(/[\w\.:]+/)}function G(e){"function"==typeof e.dispose&&e.dispose()}var B=class{constructor(e){this.scopeName=e}toKey(){return this.scopeName}},F=class{constructor(e,t){this.scopeName=e,this.ruleName=t}toKey(){return`${this.scopeName}#${this.ruleName}`}},U=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(e){const t=e.toKey();this._seenReferenceKeys.has(t)||(this._seenReferenceKeys.add(t),this._references.push(e))}},W=class{constructor(e,t){this.repo=e,this.initialScopeName=t,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new B(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const e=this.Q;this.Q=[];const t=new U;for(const r of e)q(r,this.initialScopeName,this.repo,t);for(const r of t.references)if(r instanceof B){if(this.seenFullScopeRequests.has(r.scopeName))continue;this.seenFullScopeRequests.add(r.scopeName),this.Q.push(r)}else{if(this.seenFullScopeRequests.has(r.scopeName))continue;if(this.seenPartialScopeRequests.has(r.toKey()))continue;this.seenPartialScopeRequests.add(r.toKey()),this.Q.push(r)}}};function q(e,t,r,n){const s=r.lookup(e.scopeName);if(!s){if(e.scopeName===t)throw new Error(`No grammar provided for <${t}>`);return}const o=r.lookup(t);e instanceof B?z({baseGrammar:o,selfGrammar:s},n):H(e.ruleName,{baseGrammar:o,selfGrammar:s,repository:s.repository},n);const i=r.injections(e.scopeName);if(i)for(const a of i)n.add(new B(a))}function H(e,t,r){if(t.repository&&t.repository[e]){X([t.repository[e]],t,r)}}function z(e,t){e.selfGrammar.patterns&&Array.isArray(e.selfGrammar.patterns)&&X(e.selfGrammar.patterns,{...e,repository:e.selfGrammar.repository},t),e.selfGrammar.injections&&X(Object.values(e.selfGrammar.injections),{...e,repository:e.selfGrammar.repository},t)}function X(e,t,r){for(const n of e){if(r.visitedRule.has(n))continue;r.visitedRule.add(n);const e=n.repository?_({},t.repository,n.repository):t.repository;Array.isArray(n.patterns)&&X(n.patterns,{...t,repository:e},r);const s=n.include;if(!s)continue;const o=ee(s);switch(o.kind){case 0:z({...t,selfGrammar:t.baseGrammar},r);break;case 1:z(t,r);break;case 2:H(o.ruleName,{...t,repository:e},r);break;case 3:case 4:const n=o.scopeName===t.selfGrammar.scopeName?t.selfGrammar:o.scopeName===t.baseGrammar.scopeName?t.baseGrammar:void 0;if(n){const s={baseGrammar:t.baseGrammar,selfGrammar:n,repository:e};4===o.kind?H(o.ruleName,s,r):z(s,r)}else 4===o.kind?r.add(new F(o.scopeName,o.ruleName)):r.add(new B(o.scopeName))}}}var Q=class{kind=0},J=class{kind=1},Z=class{constructor(e){this.ruleName=e}kind=2},K=class{constructor(e){this.scopeName=e}kind=3},Y=class{constructor(e,t){this.scopeName=e,this.ruleName=t}kind=4};function ee(e){if("$base"===e)return new Q;if("$self"===e)return new J;const t=e.indexOf("#");if(-1===t)return new K(e);if(0===t)return new Z(e.substring(1));{const r=e.substring(0,t),n=e.substring(t+1);return new Y(r,n)}}var te=/\\(\d+)/,re=/\\(\d+)/g;var ne=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(e,t,r,n){this.$location=e,this.id=t,this._name=r||null,this._nameIsCapturing=b.hasCaptures(this._name),this._contentName=n||null,this._contentNameIsCapturing=b.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${y(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,t){return this._nameIsCapturing&&null!==this._name&&null!==e&&null!==t?b.replaceCaptures(this._name,e,t):this._name}getContentName(e,t){return this._contentNameIsCapturing&&null!==this._contentName?b.replaceCaptures(this._contentName,e,t):this._contentName}},se=class extends ne{retokenizeCapturedWithRuleId;constructor(e,t,r,n,s){super(e,t,r,n),this.retokenizeCapturedWithRuleId=s}dispose(){}collectPatterns(e,t){throw new Error("Not supported!")}compile(e,t){throw new Error("Not supported!")}compileAG(e,t,r,n){throw new Error("Not supported!")}},oe=class extends ne{_match;captures;_cachedCompiledPatterns;constructor(e,t,r,n,s){super(e,t,r,null),this._match=new ue(n,this.id),this.captures=s,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,t){t.push(this._match)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new pe,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},ie=class extends ne{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(e,t,r,n,s){super(e,t,r,n),this.patterns=s.patterns,this.hasMissingPatterns=s.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,t){for(const r of this.patterns){e.getRule(r).collectPatterns(e,t)}}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new pe,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},ae=class extends ne{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(e,t,r,n,s,o,i,a,c,l){super(e,t,r,n),this._begin=new ue(s,this.id),this.beginCaptures=o,this._end=new ue(i||"￿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=a,this.applyEndPatternLast=c||!1,this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,t){return this._end.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e,t).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e,t).compileAG(e,r,n)}_getCachedCompiledPatterns(e,t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new pe;for(const t of this.patterns){e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns)}this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,t):this._cachedCompiledPatterns.setSource(0,t)),this._cachedCompiledPatterns}},ce=class extends ne{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(e,t,r,n,s,o,i,a,c){super(e,t,r,n),this._begin=new ue(s,this.id),this.beginCaptures=o,this.whileCaptures=a,this._while=new ue(i,-2),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,t){return this._while.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new pe;for(const t of this.patterns){e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns)}}return this._cachedCompiledPatterns}compileWhile(e,t){return this._getCachedCompiledWhilePatterns(e,t).compile(e)}compileWhileAG(e,t,r,n){return this._getCachedCompiledWhilePatterns(e,t).compileAG(e,r,n)}_getCachedCompiledWhilePatterns(e,t){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new pe,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,t||"￿"),this._cachedCompiledWhilePatterns}},le=class e{static createCaptureRule(e,t,r,n,s){return e.registerRule(e=>new se(t,e,r,n,s))}static getCompiledRuleId(t,r,n){return t.id||r.registerRule(s=>{if(t.id=s,t.match)return new oe(t.$vscodeTextmateLocation,t.id,t.name,t.match,e._compileCaptures(t.captures,r,n));if(void 0===t.begin){t.repository&&(n=_({},n,t.repository));let s=t.patterns;return void 0===s&&t.include&&(s=[{include:t.include}]),new ie(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,e._compilePatterns(s,r,n))}return t.while?new ce(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,r,n),t.while,e._compileCaptures(t.whileCaptures||t.captures,r,n),e._compilePatterns(t.patterns,r,n)):new ae(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,r,n),t.end,e._compileCaptures(t.endCaptures||t.captures,r,n),t.applyEndPatternLast,e._compilePatterns(t.patterns,r,n))}),t.id}static _compileCaptures(t,r,n){let s=[];if(t){let o=0;for(const e in t){if("$vscodeTextmateLocation"===e)continue;const t=parseInt(e,10);t>o&&(o=t)}for(let e=0;e<=o;e++)s[e]=null;for(const i in t){if("$vscodeTextmateLocation"===i)continue;const o=parseInt(i,10);let a=0;t[i].patterns&&(a=e.getCompiledRuleId(t[i],r,n)),s[o]=e.createCaptureRule(r,t[i].$vscodeTextmateLocation,t[i].name,t[i].contentName,a)}}return s}static _compilePatterns(t,r,n){let s=[];if(t)for(let o=0,i=t.length;o<i;o++){const i=t[o];let a=-1;if(i.include){const t=ee(i.include);switch(t.kind){case 0:case 1:a=e.getCompiledRuleId(n[i.include],r,n);break;case 2:let s=n[t.ruleName];s&&(a=e.getCompiledRuleId(s,r,n));break;case 3:case 4:const o=t.scopeName,c=4===t.kind?t.ruleName:null,l=r.getExternalGrammar(o,n);if(l)if(c){let t=l.repository[c];t&&(a=e.getCompiledRuleId(t,r,l.repository))}else a=e.getCompiledRuleId(l.repository.$self,r,l.repository)}}else a=e.getCompiledRuleId(i,r,n);if(-1!==a){const e=r.getRule(a);let t=!1;if((e instanceof ie||e instanceof ae||e instanceof ce)&&e.hasMissingPatterns&&0===e.patterns.length&&(t=!0),t)continue;s.push(a)}}return{patterns:s,hasMissingPatterns:(t?t.length:0)!==s.length}}},ue=class e{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,t){if(e&&"string"==typeof e){const t=e.length;let r=0,n=[],s=!1;for(let o=0;o<t;o++){if("\\"===e.charAt(o)&&o+1<t){const t=e.charAt(o+1);"z"===t?(n.push(e.substring(r,o)),n.push("$(?!\\n)(?<!\\n)"),r=o+2):"A"!==t&&"G"!==t||(s=!0),o++}}this.hasAnchor=s,0===r?this.source=e:(n.push(e.substring(r,t)),this.source=n.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=t,"string"==typeof this.source?this.hasBackReferences=te.test(this.source):this.hasBackReferences=!1}clone(){return new e(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,t){if("string"!=typeof this.source)throw new Error("This method should only be called if the source is a string");let r=t.map(t=>e.substring(t.start,t.end));return re.lastIndex=0,this.source.replace(re,(e,t)=>C(r[parseInt(t,10)]||""))}_buildAnchorCache(){if("string"!=typeof this.source)throw new Error("This method should only be called if the source is a string");let e,t,r,n,s=[],o=[],i=[],a=[];for(e=0,t=this.source.length;e<t;e++)r=this.source.charAt(e),s[e]=r,o[e]=r,i[e]=r,a[e]=r,"\\"===r&&e+1<t&&(n=this.source.charAt(e+1),"A"===n?(s[e+1]="￿",o[e+1]="￿",i[e+1]="A",a[e+1]="A"):"G"===n?(s[e+1]="￿",o[e+1]="G",i[e+1]="￿",a[e+1]="G"):(s[e+1]=n,o[e+1]=n,i[e+1]=n,a[e+1]=n),e++);return{A0_G0:s.join(""),A0_G1:o.join(""),A1_G0:i.join(""),A1_G1:a.join("")}}resolveAnchors(e,t){return this.hasAnchor&&this._anchorCache&&"string"==typeof this.source?e?t?this._anchorCache.A1_G1:this._anchorCache.A1_G0:t?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}},pe=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))}compile(e){if(!this._cached){let t=this._items.map(e=>e.source);this._cached=new de(e,t,this._items.map(e=>e.ruleId))}return this._cached}compileAG(e,t,r){return this._hasAnchors?t?r?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G0):r?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,t,r){let n=this._items.map(e=>e.resolveAnchors(t,r));return new de(e,n,this._items.map(e=>e.ruleId))}},de=class{constructor(e,t,r){this.regExps=t,this.rules=r,this.scanner=e.createOnigScanner(t)}scanner;dispose(){"function"==typeof this.scanner.dispose&&this.scanner.dispose()}toString(){const e=[];for(let t=0,r=this.rules.length;t<r;t++)e.push("   - "+this.rules[t]+": "+this.regExps[t]);return e.join("\n")}findNextMatchSync(e,t,r){const n=this.scanner.findNextMatchSync(e,t,r);return n?{ruleId:this.rules[n.index],captureIndices:n.captureIndices}:null}},he=class{constructor(e,t){this.languageId=e,this.tokenType=t}},me=class e{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,t){this._defaultAttributes=new he(e,8),this._embeddedLanguagesMatcher=new ge(Object.entries(t||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(t){return null===t?e._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(t)}static _NULL_SCOPE_METADATA=new he(0,0);_getBasicScopeAttributes=new I(e=>{const t=this._scopeToLanguage(e),r=this._toStandardTokenType(e);return new he(t,r)});_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(t){const r=t.match(e.STANDARD_TOKEN_TYPE_REGEXP);if(!r)return 8;switch(r[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},ge=class{values;scopesRegExp;constructor(e){if(0===e.length)this.values=null,this.scopesRegExp=null;else{this.values=new Map(e);const t=e.map(([e,t])=>C(e));t.sort(),t.reverse(),this.scopesRegExp=new RegExp(`^((${t.join(")|(")}))($|\\.)`,"")}}match(e){if(!this.scopesRegExp)return;const t=e.match(this.scopesRegExp);return t?this.values.get(t[1]):void 0}},fe=class{constructor(e,t){this.stack=e,this.stoppedEarly=t}};function _e(e,t,r,n,s,o,i,a){const c=t.content.length;let l=!1,u=-1;if(i){const i=function(e,t,r,n,s,o){let i=s.beginRuleCapturedEOL?0:-1;const a=[];for(let c=s;c;c=c.pop()){const t=c.getRule(e);t instanceof ce&&a.push({rule:t,stack:c})}for(let c=a.pop();c;c=a.pop()){const{ruleScanner:a,findOptions:l}=Ee(c.rule,e,c.stack.endRule,r,n===i),u=a.findNextMatchSync(t,n,l);if(!u){s=c.stack.pop();break}if(-2!==u.ruleId){s=c.stack.pop();break}u.captureIndices&&u.captureIndices.length&&(o.produce(c.stack,u.captureIndices[0].start),be(e,t,r,c.stack,o,c.rule.whileCaptures,u.captureIndices),o.produce(c.stack,u.captureIndices[0].end),i=u.captureIndices[0].end,u.captureIndices[0].end>n&&(n=u.captureIndices[0].end,r=!1))}return{stack:s,linePos:n,anchorPosition:i,isFirstLine:r}}(e,t,r,n,s,o);s=i.stack,n=i.linePos,r=i.isFirstLine,u=i.anchorPosition}const p=Date.now();for(;!l;){if(0!==a){if(Date.now()-p>a)return new fe(s,!0)}d()}return new fe(s,!1);function d(){const i=function(e,t,r,n,s,o){const i=function(e,t,r,n,s,o){const i=s.getRule(e),{ruleScanner:a,findOptions:c}=ye(i,e,s.endRule,r,n===o),l=a.findNextMatchSync(t,n,c);if(l)return{captureIndices:l.captureIndices,matchedRuleId:l.ruleId};return null}(e,t,r,n,s,o),a=e.getInjections();if(0===a.length)return i;const c=function(e,t,r,n,s,o,i){let a,c=Number.MAX_VALUE,l=null,u=0;const p=o.contentNameScopesList.getScopeNames();for(let d=0,h=e.length;d<h;d++){const o=e[d];if(!o.matcher(p))continue;const h=t.getRule(o.ruleId),{ruleScanner:m,findOptions:g}=ye(h,t,null,n,s===i),f=m.findNextMatchSync(r,s,g);if(!f)continue;const _=f.captureIndices[0].start;if(!(_>=c)&&(c=_,l=f.captureIndices,a=f.ruleId,u=o.priority,c===s))break}if(l)return{priorityMatch:-1===u,captureIndices:l,matchedRuleId:a};return null}(a,e,t,r,n,s,o);if(!c)return i;if(!i)return c;const l=i.captureIndices[0].start,u=c.captureIndices[0].start;if(u<l||c.priorityMatch&&u===l)return c;return i}(e,t,r,n,s,u);if(!i)return o.produce(s,c),void(l=!0);const a=i.captureIndices,p=i.matchedRuleId,d=!!(a&&a.length>0)&&a[0].end>n;if(-1===p){const i=s.getRule(e);o.produce(s,a[0].start),s=s.withContentNameScopesList(s.nameScopesList),be(e,t,r,s,o,i.endCaptures,a),o.produce(s,a[0].end);const p=s;if(s=s.parent,u=p.getAnchorPos(),!d&&p.getEnterPos()===n)return s=p,o.produce(s,c),void(l=!0)}else{const i=e.getRule(p);o.produce(s,a[0].start);const h=s,m=i.getName(t.content,a),g=s.contentNameScopesList.pushAttributed(m,e);if(s=s.push(p,n,u,a[0].end===c,null,g,g),i instanceof ae){const n=i;be(e,t,r,s,o,n.beginCaptures,a),o.produce(s,a[0].end),u=a[0].end;const p=n.getContentName(t.content,a),m=g.pushAttributed(p,e);if(s=s.withContentNameScopesList(m),n.endHasBackReferences&&(s=s.withEndRule(n.getEndWithResolvedBackReferences(t.content,a))),!d&&h.hasSameRuleAs(s))return s=s.pop(),o.produce(s,c),void(l=!0)}else if(i instanceof ce){const n=i;be(e,t,r,s,o,n.beginCaptures,a),o.produce(s,a[0].end),u=a[0].end;const p=n.getContentName(t.content,a),m=g.pushAttributed(p,e);if(s=s.withContentNameScopesList(m),n.whileHasBackReferences&&(s=s.withEndRule(n.getWhileWithResolvedBackReferences(t.content,a))),!d&&h.hasSameRuleAs(s))return s=s.pop(),o.produce(s,c),void(l=!0)}else{if(be(e,t,r,s,o,i.captures,a),o.produce(s,a[0].end),s=s.pop(),!d)return s=s.safePop(),o.produce(s,c),void(l=!0)}}a[0].end>n&&(n=a[0].end,r=!1)}}function ye(e,t,r,n,s){return{ruleScanner:e.compileAG(t,r,n,s),findOptions:0}}function Ee(e,t,r,n,s){return{ruleScanner:e.compileWhileAG(t,r,n,s),findOptions:0}}function be(e,t,r,n,s,o,i){if(0===o.length)return;const a=t.content,c=Math.min(o.length,i.length),l=[],u=i[0].end;for(let p=0;p<c;p++){const t=o[p];if(null===t)continue;const c=i[p];if(0===c.length)continue;if(c.start>u)break;for(;l.length>0&&l[l.length-1].endPos<=c.start;)s.produceFromScopes(l[l.length-1].scopes,l[l.length-1].endPos),l.pop();if(l.length>0?s.produceFromScopes(l[l.length-1].scopes,c.start):s.produce(n,c.start),t.retokenizeCapturedWithRuleId){const o=t.getName(a,i),l=n.contentNameScopesList.pushAttributed(o,e),u=t.getContentName(a,i),p=l.pushAttributed(u,e),d=n.push(t.retokenizeCapturedWithRuleId,c.start,-1,!1,null,l,p),h=e.createOnigString(a.substring(0,c.end));_e(e,h,r&&0===c.start,c.start,d,s,!1,0),G(h);continue}const d=t.getName(a,i);if(null!==d){const t=(l.length>0?l[l.length-1].scopes:n.contentNameScopesList).pushAttributed(d,e);l.push(new we(t,c.end))}}for(;l.length>0;)s.produceFromScopes(l[l.length-1].scopes,l[l.length-1].endPos),l.pop()}var we=class{scopes;endPos;constructor(e,t){this.scopes=e,this.endPos=t}};function ke(e,t,r,n,s){const o=$(t,Ae),i=le.getCompiledRuleId(r,n,s.repository);for(const a of o)e.push({debugSelector:t,matcher:a.matcher,ruleId:i,grammar:s,priority:a.priority})}function Ae(e,t){if(t.length<e.length)return!1;let r=0;return e.every(e=>{for(let n=r;n<t.length;n++)if(Ce(t[n],e))return r=n+1,!0;return!1})}function Ce(e,t){if(!e)return!1;if(e===t)return!0;const r=t.length;return e.length>r&&e.substr(0,r)===t&&"."===e[r]}var Ie=class{constructor(e,t,r,n,s,o,i,a){if(this._rootScopeName=e,this.balancedBracketSelectors=o,this._onigLib=a,this._basicScopeAttributesProvider=new me(r,n),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=i,this._grammar=Le(t,null),this._injections=null,this._tokenTypeMatchers=[],s)for(const c of Object.keys(s)){const e=$(c,Ae);for(const t of e)this._tokenTypeMatchers.push({matcher:t.matcher,type:s[c]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const e of this._ruleId2desc)e&&e.dispose()}createOnigScanner(e){return this._onigLib.createOnigScanner(e)}createOnigString(e){return this._onigLib.createOnigString(e)}getMetadataForScope(e){return this._basicScopeAttributesProvider.getBasicScopeAttributes(e)}_collectInjections(){const e=e=>e===this._rootScopeName?this._grammar:this.getExternalGrammar(e),t=[],r=this._rootScopeName,n=e(r);if(n){const e=n.injections;if(e)for(let r in e)ke(t,r,e[r],this,n);const s=this._grammarRepository.injections(r);s&&s.forEach(e=>{const r=this.getExternalGrammar(e);if(r){const e=r.injectionSelector;e&&ke(t,e,r,this,r)}})}return t.sort((e,t)=>e.priority-t.priority),t}getInjections(){return null===this._injections&&(this._injections=this._collectInjections()),this._injections}registerRule(e){const t=++this._lastRuleId,r=e(t);return this._ruleId2desc[t]=r,r}getRule(e){return this._ruleId2desc[e]}getExternalGrammar(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){const r=this._grammarRepository.lookup(e);if(r)return this._includedGrammars[e]=Le(r,t&&t.$base),this._includedGrammars[e]}}tokenizeLine(e,t,r=0){const n=this._tokenize(e,t,!1,r);return{tokens:n.lineTokens.getResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}tokenizeLine2(e,t,r=0){const n=this._tokenize(e,t,!0,r);return{tokens:n.lineTokens.getBinaryResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}_tokenize(e,t,r,n){let s;if(-1===this._rootId&&(this._rootId=le.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),t&&t!==Se.NULL)s=!1,t.reset();else{s=!0;const e=this._basicScopeAttributesProvider.getDefaultAttributes(),r=this.themeProvider.getDefaults(),n=D.set(0,e.languageId,e.tokenType,null,r.fontStyle,r.foregroundId,r.backgroundId),o=this.getRule(this._rootId).getName(null,null);let i;i=o?Pe.createRootAndLookUpScopeName(o,n,this):Pe.createRoot("unknown",n),t=new Se(null,this._rootId,-1,-1,!1,null,i,i)}e+="\n";const o=this.createOnigString(e),i=o.content.length,a=new Re(r,e,this._tokenTypeMatchers,this.balancedBracketSelectors),c=_e(this,o,s,0,t,a,!0,n);return G(o),{lineLength:i,lineTokens:a,ruleStack:c.stack,stoppedEarly:c.stoppedEarly}}};function Le(e,t){return(e=f(e)).repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}var Pe=class e{constructor(e,t,r){this.parent=e,this.scopePath=t,this.tokenAttributes=r}static fromExtension(t,r){let n=t,s=t?.scopePath??null;for(const o of r)s=P.push(s,o.scopeNames),n=new e(n,s,o.encodedTokenAttributes);return n}static createRoot(t,r){return new e(null,new P(null,t),r)}static createRootAndLookUpScopeName(t,r,n){const s=n.getMetadataForScope(t),o=new P(null,t),i=n.themeProvider.themeMatch(o),a=e.mergeAttributes(r,s,i);return new e(null,o,a)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(t){return e.equals(this,t)}static equals(e,t){for(;;){if(e===t)return!0;if(!e&&!t)return!0;if(!e||!t)return!1;if(e.scopeName!==t.scopeName||e.tokenAttributes!==t.tokenAttributes)return!1;e=e.parent,t=t.parent}}static mergeAttributes(e,t,r){let n=-1,s=0,o=0;return null!==r&&(n=r.fontStyle,s=r.foregroundId,o=r.backgroundId),D.set(e,t.languageId,t.tokenType,null,n,s,o)}pushAttributed(t,r){if(null===t)return this;if(-1===t.indexOf(" "))return e._pushAttributed(this,t,r);const n=t.split(/ /g);let s=this;for(const o of n)s=e._pushAttributed(s,o,r);return s}static _pushAttributed(t,r,n){const s=n.getMetadataForScope(r),o=t.scopePath.push(r),i=n.themeProvider.themeMatch(o),a=e.mergeAttributes(t.tokenAttributes,s,i);return new e(t,o,a)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){const t=[];let r=this;for(;r&&r!==e;)t.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(r.parent?.scopePath??null)}),r=r.parent;return r===e?t.reverse():void 0}},Se=class e{constructor(e,t,r,n,s,o,i,a){this.parent=e,this.ruleId=t,this.beginRuleCapturedEOL=s,this.endRule=o,this.nameScopesList=i,this.contentNameScopesList=a,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=n}_stackElementBrand=void 0;static NULL=new e(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(t){return null!==t&&e._equals(this,t)}static _equals(e,t){return e===t||!!this._structuralEquals(e,t)&&Pe.equals(e.contentNameScopesList,t.contentNameScopesList)}static _structuralEquals(e,t){for(;;){if(e===t)return!0;if(!e&&!t)return!0;if(!e||!t)return!1;if(e.depth!==t.depth||e.ruleId!==t.ruleId||e.endRule!==t.endRule)return!1;e=e.parent,t=t.parent}}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){e._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(t,r,n,s,o,i,a){return new e(this,t,r,n,s,o,i,a)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,t){return this.parent&&(t=this.parent._writeString(e,t)),e[t++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,t}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(t){return this.endRule===t?this:new e(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let t=this;for(;t&&t._enterPos===e._enterPos;){if(t.ruleId===e.ruleId)return!0;t=t.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(t,r){const n=Pe.fromExtension(t?.nameScopesList??null,r.nameScopesList);return new e(t,r.ruleId,r.enterPos??-1,r.anchorPos??-1,r.beginRuleCapturedEOL,r.endRule,n,Pe.fromExtension(n,r.contentNameScopesList))}},Te=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(e,t){this.balancedBracketScopes=e.flatMap(e=>"*"===e?(this.allowAny=!0,[]):$(e,Ae).map(e=>e.matcher)),this.unbalancedBracketScopes=t.flatMap(e=>$(e,Ae).map(e=>e.matcher))}get matchesAlways(){return this.allowAny&&0===this.unbalancedBracketScopes.length}get matchesNever(){return 0===this.balancedBracketScopes.length&&!this.allowAny}match(e){for(const t of this.unbalancedBracketScopes)if(t(e))return!1;for(const t of this.balancedBracketScopes)if(t(e))return!0;return this.allowAny}},Re=class{constructor(e,t,r,n){this.balancedBracketSelectors=n,this._emitBinaryTokens=e,this._tokenTypeOverrides=r,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(e,t){this.produceFromScopes(e.contentNameScopesList,t)}produceFromScopes(e,t){if(this._lastTokenEndIndex>=t)return;if(this._emitBinaryTokens){let r=e?.tokenAttributes??0,n=!1;if(this.balancedBracketSelectors?.matchesAlways&&(n=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const t=e?.getScopeNames()??[];for(const e of this._tokenTypeOverrides)e.matcher(t)&&(r=D.set(r,0,V(e.type),null,-1,0,0));this.balancedBracketSelectors&&(n=this.balancedBracketSelectors.match(t))}return n&&(r=D.set(r,0,8,n,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r?void(this._lastTokenEndIndex=t):(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),void(this._lastTokenEndIndex=t))}const r=e?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:r}),this._lastTokenEndIndex=t}getResult(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),0===this._tokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),0===this._binaryTokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);const r=new Uint32Array(this._binaryTokens.length);for(let n=0,s=this._binaryTokens.length;n<s;n++)r[n]=this._binaryTokens[n];return r}},xe=class{constructor(e,t){this._onigLib=t,this._theme=e}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const e of this._grammars.values())e.dispose()}setTheme(e){this._theme=e}getColorMap(){return this._theme.getColorMap()}addGrammar(e,t){this._rawGrammars.set(e.scopeName,e),t&&this._injectionGrammars.set(e.scopeName,t)}lookup(e){return this._rawGrammars.get(e)}injections(e){return this._injectionGrammars.get(e)}getDefaults(){return this._theme.getDefaults()}themeMatch(e){return this._theme.match(e)}grammarForScopeName(e,t,r,n,s){if(!this._grammars.has(e)){let o=this._rawGrammars.get(e);if(!o)return null;this._grammars.set(e,function(e,t,r,n,s,o,i,a){return new Ie(e,t,r,n,s,o,i,a)}(e,o,t,r,n,s,this,this._onigLib))}return this._grammars.get(e)}},ve=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new xe(L.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,t){this._syncRegistry.setTheme(L.createFromRawTheme(e,t))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,t,r){return this.loadGrammarWithConfiguration(e,t,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,t,r){return this._loadGrammar(e,t,r.embeddedLanguages,r.tokenTypes,new Te(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,t,r,n,s){const o=new W(this._syncRegistry,e);for(;o.Q.length>0;)o.Q.map(e=>this._loadSingleGrammar(e.scopeName)),o.processQueue();return this._grammarForScopeName(e,t,r,n,s)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const t=this._options.loadGrammar(e);if(t){const r="function"==typeof this._options.getInjections?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(t,r)}}addGrammar(e,t=[],r=0,n=null){return this._syncRegistry.addGrammar(e,t),this._grammarForScopeName(e.scopeName,r,n)}_grammarForScopeName(e,t=0,r=null,n=null,s=null){return this._syncRegistry.grammarForScopeName(e,t,r,n,s)}},Oe=Se.NULL;const Ne=/["&'<>`]/g,je=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,De=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,Ve=/[|\\{}()[\]^$+*?.]/g,$e=new WeakMap;function Me(e,t){return e=e.replace(t.subset?function(e){let t=$e.get(e);t||(t=function(e){const t=[];let r=-1;for(;++r<e.length;)t.push(e[r].replace(Ve,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}(e),$e.set(e,t));return t}(t.subset):Ne,r),t.subset||t.escapeOnly?e:e.replace(je,function(e,r,n){return t.format(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536,n.charCodeAt(r+2),t)}).replace(De,r);function r(e,r,n){return t.format(e.charCodeAt(0),n.charCodeAt(r+1),t)}}const Ge=/[\dA-Fa-f]/;const Be=/\d/;const Fe=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],Ue={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},We=["cent","copy","divide","gt","lt","not","para","times"],qe={}.hasOwnProperty,He={};let ze;for(ze in Ue)qe.call(Ue,ze)&&(He[Ue[ze]]=ze);const Xe=/[^\dA-Za-z]/;function Qe(e,t,r){let n,s=function(e,t,r){const n="&#x"+e.toString(16).toUpperCase();return r&&t&&!Ge.test(String.fromCharCode(t))?n:n+";"}(e,t,r.omitOptionalSemicolons);if((r.useNamedReferences||r.useShortestReferences)&&(n=function(e,t,r,n){const s=String.fromCharCode(e);if(qe.call(He,s)){const e=He[s],o="&"+e;return r&&Fe.includes(e)&&!We.includes(e)&&(!n||t&&61!==t&&Xe.test(String.fromCharCode(t)))?o:o+";"}return""}(e,t,r.omitOptionalSemicolons,r.attribute)),(r.useShortestReferences||!n)&&r.useShortestReferences){const n=function(e,t,r){const n="&#"+String(e);return r&&t&&!Be.test(String.fromCharCode(t))?n:n+";"}(e,t,r.omitOptionalSemicolons);n.length<s.length&&(s=n)}return n&&(!r.useShortestReferences||n.length<s.length)?n:s}function Je(e,t){return Me(e,Object.assign({format:Qe},t))}const Ze=/^>|^->|<!--|-->|--!>|<!-$/g,Ke=[">"],Ye=["<",">"];const et=nt(1),tt=nt(-1),rt=[];function nt(t){return function(r,n,s){const o=r?r.children:rt;let i=(n||0)+t,a=o[i];if(!s)for(;a&&e(a);)i+=t,a=o[i];return a}}const st={}.hasOwnProperty;function ot(e){return function(t,r,n){return st.call(e,t.tagName)&&e[t.tagName](t,r,n)}}const it=ot({body:function(e,t,r){const n=et(r,t);return!n||"comment"!==n.type},caption:at,colgroup:at,dd:function(e,t,r){const n=et(r,t);return!n||"element"===n.type&&("dt"===n.tagName||"dd"===n.tagName)},dt:function(e,t,r){const n=et(r,t);return Boolean(n&&"element"===n.type&&("dt"===n.tagName||"dd"===n.tagName))},head:at,html:function(e,t,r){const n=et(r,t);return!n||"comment"!==n.type},li:function(e,t,r){const n=et(r,t);return!n||"element"===n.type&&"li"===n.tagName},optgroup:function(e,t,r){const n=et(r,t);return!n||"element"===n.type&&"optgroup"===n.tagName},option:function(e,t,r){const n=et(r,t);return!n||"element"===n.type&&("option"===n.tagName||"optgroup"===n.tagName)},p:function(e,t,r){const n=et(r,t);return n?"element"===n.type&&("address"===n.tagName||"article"===n.tagName||"aside"===n.tagName||"blockquote"===n.tagName||"details"===n.tagName||"div"===n.tagName||"dl"===n.tagName||"fieldset"===n.tagName||"figcaption"===n.tagName||"figure"===n.tagName||"footer"===n.tagName||"form"===n.tagName||"h1"===n.tagName||"h2"===n.tagName||"h3"===n.tagName||"h4"===n.tagName||"h5"===n.tagName||"h6"===n.tagName||"header"===n.tagName||"hgroup"===n.tagName||"hr"===n.tagName||"main"===n.tagName||"menu"===n.tagName||"nav"===n.tagName||"ol"===n.tagName||"p"===n.tagName||"pre"===n.tagName||"section"===n.tagName||"table"===n.tagName||"ul"===n.tagName):!r||!("element"===r.type&&("a"===r.tagName||"audio"===r.tagName||"del"===r.tagName||"ins"===r.tagName||"map"===r.tagName||"noscript"===r.tagName||"video"===r.tagName))},rp:ct,rt:ct,tbody:function(e,t,r){const n=et(r,t);return!n||"element"===n.type&&("tbody"===n.tagName||"tfoot"===n.tagName)},td:lt,tfoot:function(e,t,r){return!et(r,t)},th:lt,thead:function(e,t,r){const n=et(r,t);return Boolean(n&&"element"===n.type&&("tbody"===n.tagName||"tfoot"===n.tagName))},tr:function(e,t,r){const n=et(r,t);return!n||"element"===n.type&&"tr"===n.tagName}});function at(t,r,n){const s=et(n,r,!0);return!s||"comment"!==s.type&&!("text"===s.type&&e(s.value.charAt(0)))}function ct(e,t,r){const n=et(r,t);return!n||"element"===n.type&&("rp"===n.tagName||"rt"===n.tagName)}function lt(e,t,r){const n=et(r,t);return!n||"element"===n.type&&("td"===n.tagName||"th"===n.tagName)}const ut=ot({body:function(t){const r=et(t,-1,!0);return!(r&&("comment"===r.type||"text"===r.type&&e(r.value.charAt(0))||"element"===r.type&&("meta"===r.tagName||"link"===r.tagName||"script"===r.tagName||"style"===r.tagName||"template"===r.tagName)))},colgroup:function(e,t,r){const n=tt(r,t),s=et(e,-1,!0);if(r&&n&&"element"===n.type&&"colgroup"===n.tagName&&it(n,r.children.indexOf(n),r))return!1;return Boolean(s&&"element"===s.type&&"col"===s.tagName)},head:function(e){const t=new Set;for(const n of e.children)if("element"===n.type&&("base"===n.tagName||"title"===n.tagName)){if(t.has(n.tagName))return!1;t.add(n.tagName)}const r=e.children[0];return!r||"element"===r.type},html:function(e){const t=et(e,-1);return!t||"comment"!==t.type},tbody:function(e,t,r){const n=tt(r,t),s=et(e,-1);if(r&&n&&"element"===n.type&&("thead"===n.tagName||"tbody"===n.tagName)&&it(n,r.children.indexOf(n),r))return!1;return Boolean(s&&"element"===s.type&&"tr"===s.tagName)}});const pt={name:[["\t\n\f\r &/=>".split(""),"\t\n\f\r \"&'/=>`".split("")],["\0\t\n\f\r \"&'/<=>".split(""),"\0\t\n\f\r \"&'/<=>`".split("")]],unquoted:[["\t\n\f\r &>".split(""),"\0\t\n\f\r \"&'<=>`".split("")],["\0\t\n\f\r \"&'<=>`".split(""),"\0\t\n\f\r \"&'<=>`".split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function dt(e,t,i){const a=r(e.schema,t),c=e.settings.allowParseErrors&&"html"===e.schema.space?0:1,l=e.settings.allowDangerousCharacters?0:1;let u,p=e.quote;if(!a.overloadedBoolean||i!==a.attribute&&""!==i?!a.boolean&&!a.overloadedBoolean||"string"==typeof i&&i!==a.attribute&&""!==i||(i=Boolean(i)):i=!0,null==i||!1===i||"number"==typeof i&&Number.isNaN(i))return"";const d=Je(a.attribute,Object.assign({},e.settings.characterReferences,{subset:pt.name[c][l]}));return!0===i?d:(i=Array.isArray(i)?(a.commaSeparated?n:s)(i,{padLeft:!e.settings.tightCommaSeparatedLists}):String(i),e.settings.collapseEmptyAttributes&&!i?d:(e.settings.preferUnquoted&&(u=Je(i,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:pt.unquoted[c][l]}))),u!==i&&(e.settings.quoteSmart&&o(i,p)>o(i,e.alternative)&&(p=e.alternative),u=p+Je(i,Object.assign({},e.settings.characterReferences,{subset:("'"===p?pt.single:pt.double)[c][l],attribute:!0}))+p),d+(u?"="+u:u)))}const ht=["<","&"];function mt(e,t,r,n){return!r||"element"!==r.type||"script"!==r.tagName&&"style"!==r.tagName?Je(e.value,Object.assign({},n.settings.characterReferences,{subset:ht})):e.value}const gt=i("type",{invalid:function(e){throw new Error("Expected node, not `"+e+"`")},unknown:function(e){throw new Error("Cannot compile unknown node `"+e.type+"`")},handlers:{comment:function(e,t,r,n){return n.settings.bogusComments?"<?"+Je(e.value,Object.assign({},n.settings.characterReferences,{subset:Ke}))+">":"\x3c!--"+e.value.replace(Ze,function(e){return Je(e,Object.assign({},n.settings.characterReferences,{subset:Ye}))})+"--\x3e"},doctype:function(e,t,r,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"},element:function(e,r,n,s){const o=s.schema,i="svg"!==o.space&&s.settings.omitOptionalTags;let a="svg"===o.space?s.settings.closeEmptyElements:s.settings.voids.includes(e.tagName.toLowerCase());const c=[];let l;"html"===o.space&&"svg"===e.tagName&&(s.schema=t);const u=function(e,t){const r=[];let n,s=-1;if(t)for(n in t)if(null!==t[n]&&void 0!==t[n]){const s=dt(e,n,t[n]);s&&r.push(s)}for(;++s<r.length;){const t=e.settings.tightAttributes?r[s].charAt(r[s].length-1):void 0;s!==r.length-1&&'"'!==t&&"'"!==t&&(r[s]+=" ")}return r.join("")}(s,e.properties),p=s.all("html"===o.space&&"template"===e.tagName?e.content:e);return s.schema=o,p&&(a=!1),!u&&i&&ut(e,r,n)||(c.push("<",e.tagName,u?" "+u:""),a&&("svg"===o.space||s.settings.closeSelfClosing)&&(l=u.charAt(u.length-1),(!s.settings.tightSelfClosing||"/"===l||l&&'"'!==l&&"'"!==l)&&c.push(" "),c.push("/")),c.push(">")),c.push(p),a||i&&it(e,r,n)||c.push("</"+e.tagName+">"),c.join("")},raw:function(e,t,r,n){return n.settings.allowDangerousHtml?e.value:mt(e,0,r,n)},root:function(e,t,r,n){return n.all(e)},text:mt}});const ft={},_t={},yt=[];function Et(e,t,r){return gt(e,t,r,this)}function bt(e){const t=[],r=e&&e.children||yt;let n=-1;for(;++n<r.length;)t[n]=this.one(r[n],n,e);return t.join("")}function wt(e,t){const r="string"==typeof e?{}:{...e.colorReplacements},n="string"==typeof e?e:e.name;for(const[s,o]of Object.entries(t?.colorReplacements||{}))"string"==typeof o?r[s]=o:s===n&&Object.assign(r,o);return r}function kt(e,t){return e&&t?.[e?.toLowerCase()]||e}async function At(e){return Promise.resolve("function"==typeof e?e():e).then(e=>e.default||e)}function Ct(e){return!e||["plaintext","txt","text","plain"].includes(e)}function It(e){return"ansi"===e||Ct(e)}function Lt(e){return"none"===e}function Pt(e){return Lt(e)}function St(e,t){if(!t)return e;e.properties||={},e.properties.class||=[],"string"==typeof e.properties.class&&(e.properties.class=e.properties.class.split(/\s+/g)),Array.isArray(e.properties.class)||(e.properties.class=[]);const r=Array.isArray(t)?t:t.split(/\s+/g);for(const n of r)n&&!e.properties.class.includes(n)&&e.properties.class.push(n);return e}function Tt(e,t=!1){if(0===e.length)return[["",0]];const r=e.split(/(\r?\n)/g);let n=0;const s=[];for(let o=0;o<r.length;o+=2){const e=t?r[o]+(r[o+1]||""):r[o];s.push([e,n]),n+=r[o].length,n+=r[o+1]?.length||0}return s}const Rt="light-dark()",xt=["color","background-color"];function vt(e){const t={};if(e.color&&(t.color=e.color),e.bgColor&&(t["background-color"]=e.bgColor),e.fontStyle){e.fontStyle&x.Italic&&(t["font-style"]="italic"),e.fontStyle&x.Bold&&(t["font-weight"]="bold");const r=[];e.fontStyle&x.Underline&&r.push("underline"),e.fontStyle&x.Strikethrough&&r.push("line-through"),r.length&&(t["text-decoration"]=r.join(" "))}return t}function Ot(e){return"string"==typeof e?e:Object.entries(e).map(([e,t])=>`${e}:${t}`).join(";")}const Nt=new WeakMap;function jt(e,t){Nt.set(e,t)}function Dt(e){return Nt.get(e)}class Vt{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,t){return new Vt(Object.fromEntries((r=t,Array.isArray(r)?r:[r]).map(e=>[e,Oe])),e);var r}constructor(...e){if(2===e.length){const[t,r]=e;this.lang=r,this._stacks=t}else{const[t,r,n]=e;this.lang=r,this._stacks={[n]:t}}}getInternalStack(e=this.theme){return this._stacks[e]}getScopes(e=this.theme){return function(e){const t=[],r=new Set;function n(e){if(r.has(e))return;r.add(e);const s=e?.nameScopesList?.scopeName;s&&t.push(s),e.parent&&n(e.parent)}return n(e),t}(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function $t(){const e=new WeakMap;function t(t){if(!e.has(t.meta)){let r=function(e){if("number"==typeof e){if(e<0||e>t.source.length)throw new g(`Invalid decoration offset: ${e}. Code length: ${t.source.length}`);return{...n.indexToPos(e),offset:e}}{const t=n.lines[e.line];if(void 0===t)throw new g(`Invalid decoration position ${JSON.stringify(e)}. Lines length: ${n.lines.length}`);let r=e.character;if(r<0&&(r=t.length+r),r<0||r>t.length)throw new g(`Invalid decoration position ${JSON.stringify(e)}. Line ${e.line} length: ${t.length}`);return{...e,character:r,offset:n.posToIndex(e.line,r)}}};const n=function(e){const t=Tt(e,!0).map(([e])=>e);return{lines:t,indexToPos:function(r){if(r===e.length)return{line:t.length-1,character:t[t.length-1].length};let n=r,s=0;for(const e of t){if(n<e.length)break;n-=e.length,s++}return{line:s,character:n}},posToIndex:function(e,r){let n=0;for(let s=0;s<e;s++)n+=t[s].length;return n+=r,n}}}(t.source),s=(t.options.decorations||[]).map(e=>({...e,start:r(e.start),end:r(e.end)}));!function(e){for(let t=0;t<e.length;t++){const r=e[t];if(r.start.offset>r.end.offset)throw new g(`Invalid decoration range: ${JSON.stringify(r.start)} - ${JSON.stringify(r.end)}`);for(let n=t+1;n<e.length;n++){const t=e[n],s=r.start.offset<=t.start.offset&&t.start.offset<r.end.offset,o=r.start.offset<t.end.offset&&t.end.offset<=r.end.offset,i=t.start.offset<=r.start.offset&&r.start.offset<t.end.offset,a=t.start.offset<r.end.offset&&r.end.offset<=t.end.offset;if(s||o||i||a){if(s&&o)continue;if(i&&a)continue;if(i&&r.start.offset===r.end.offset)continue;if(o&&t.start.offset===t.end.offset)continue;throw new g(`Decorations ${JSON.stringify(r.start)} and ${JSON.stringify(t.start)} intersect.`)}}}}(s),e.set(t.meta,{decorations:s,converter:n,source:t.source})}return e.get(t.meta)}return{name:"shiki:decorations",tokens(e){if(!this.options.decorations?.length)return;const r=function(e,t){const r=Array.from(t instanceof Set?t:new Set(t)).sort((e,t)=>e-t);return r.length?e.map(e=>e.flatMap(e=>{const t=r.filter(t=>e.offset<t&&t<e.offset+e.content.length).map(t=>t-e.offset).sort((e,t)=>e-t);return t.length?function(e,t){let r=0;const n=[];for(const s of t)s>r&&n.push({...e,content:e.content.slice(r,s),offset:e.offset+r}),r=s;return r<e.content.length&&n.push({...e,content:e.content.slice(r),offset:e.offset+r}),n}(e,t):e})):e}(e,t(this).decorations.flatMap(e=>[e.start.offset,e.end.offset]));return r},code(e){if(!this.options.decorations?.length)return;const r=t(this),n=Array.from(e.children).filter(e=>"element"===e.type&&"span"===e.tagName);if(n.length!==r.converter.lines.length)throw new g(`Number of lines in code element (${n.length}) does not match the number of lines in the source (${r.converter.lines.length}). Failed to apply decorations.`);function s(e,t,r,s){const o=n[e];let a="",c=-1,l=-1;if(0===t&&(c=0),0===r&&(l=0),r===Number.POSITIVE_INFINITY&&(l=o.children.length),-1===c||-1===l)for(let n=0;n<o.children.length;n++)a+=Mt(o.children[n]),-1===c&&a.length===t&&(c=n+1),-1===l&&a.length===r&&(l=n+1);if(-1===c)throw new g(`Failed to find start index for decoration ${JSON.stringify(s.start)}`);if(-1===l)throw new g(`Failed to find end index for decoration ${JSON.stringify(s.end)}`);const u=o.children.slice(c,l);if(s.alwaysWrap||u.length!==o.children.length)if(s.alwaysWrap||1!==u.length||"element"!==u[0].type){const e={type:"element",tagName:"span",properties:{},children:u};i(e,s,"wrapper"),o.children.splice(c,u.length,e)}else i(u[0],s,"token");else i(o,s,"line")}function o(e,t){n[e]=i(n[e],t,"line")}function i(e,t,r){const n=t.properties||{},s=t.transform||(e=>e);return e.tagName=t.tagName||"span",e.properties={...e.properties,...n,class:e.properties.class},t.properties?.class&&St(e,t.properties.class),e=s(e,r)||e}const a=[],c=r.decorations.sort((e,t)=>t.start.offset-e.start.offset||e.end.offset-t.end.offset);for(const t of c){const{start:e,end:r}=t;if(e.line===r.line)s(e.line,e.character,r.character,t);else if(e.line<r.line){s(e.line,e.character,Number.POSITIVE_INFINITY,t);for(let n=e.line+1;n<r.line;n++)a.unshift(()=>o(n,t));s(r.line,0,r.character,t)}}a.forEach(e=>e())}}}function Mt(e){return"text"===e.type?e.value:"element"===e.type?e.children.map(Mt).join(""):""}const Gt=[$t()];function Bt(e){const t=function(e){const t=[],r=[],n=[];for(const s of e)switch(s.enforce){case"pre":t.push(s);break;case"post":r.push(s);break;default:n.push(s)}return{pre:t,post:r,normal:n}}(e.transformers||[]);return[...t.pre,...t.normal,...t.post,...Gt]}var Ft=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],Ut={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function Wt(e,t){const r=e.indexOf("",t);if(-1!==r&&"["===e[r+1]){const t=e.indexOf("m",r);if(-1!==t)return{sequence:e.substring(r+2,t).split(";"),startPosition:r,position:t+1}}return{position:e.length}}function qt(e){const t=e.shift();if("2"===t){const t=e.splice(0,3).map(e=>Number.parseInt(e));if(3!==t.length||t.some(e=>Number.isNaN(e)))return;return{type:"rgb",rgb:t}}if("5"===t){const t=e.shift();if(t)return{type:"table",index:Number(t)}}}function Ht(e){const t=[];for(;e.length>0;){const r=e.shift();if(!r)continue;const n=Number.parseInt(r);if(!Number.isNaN(n))if(0===n)t.push({type:"resetAll"});else if(n<=9){Ut[n]&&t.push({type:"setDecoration",value:Ut[n]})}else if(n<=29){const e=Ut[n-20];e&&(t.push({type:"resetDecoration",value:e}),"dim"===e&&t.push({type:"resetDecoration",value:"bold"}))}else if(n<=37)t.push({type:"setForegroundColor",value:{type:"named",name:Ft[n-30]}});else if(38===n){const r=qt(e);r&&t.push({type:"setForegroundColor",value:r})}else if(39===n)t.push({type:"resetForegroundColor"});else if(n<=47)t.push({type:"setBackgroundColor",value:{type:"named",name:Ft[n-40]}});else if(48===n){const r=qt(e);r&&t.push({type:"setBackgroundColor",value:r})}else 49===n?t.push({type:"resetBackgroundColor"}):53===n?t.push({type:"setDecoration",value:"overline"}):55===n?t.push({type:"resetDecoration",value:"overline"}):n>=90&&n<=97?t.push({type:"setForegroundColor",value:{type:"named",name:Ft[n-90+8]}}):n>=100&&n<=107&&t.push({type:"setBackgroundColor",value:{type:"named",name:Ft[n-100+8]}})}return t}var zt={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function Xt(e=zt){function t(t){return e[t]}function r(e){return`#${e.map(e=>Math.max(0,Math.min(e,255)).toString(16).padStart(2,"0")).join("")}`}let n;function s(e){return function(){if(n)return n;n=[];for(let r=0;r<Ft.length;r++)n.push(t(Ft[r]));let e=[0,95,135,175,215,255];for(let t=0;t<6;t++)for(let s=0;s<6;s++)for(let o=0;o<6;o++)n.push(r([e[t],e[s],e[o]]));let s=8;for(let t=0;t<24;t++,s+=10)n.push(r([s,s,s]));return n}()[e]}return{value:function(e){switch(e.type){case"named":return t(e.name);case"rgb":return r(e.rgb);case"table":return s(e.index)}}}}const Qt={black:"#000000",red:"#cd3131",green:"#0DBC79",yellow:"#E5E510",blue:"#2472C8",magenta:"#BC3FBC",cyan:"#11A8CD",white:"#E5E5E5",brightBlack:"#666666",brightRed:"#F14C4C",brightGreen:"#23D18B",brightYellow:"#F5F543",brightBlue:"#3B8EEA",brightMagenta:"#D670D6",brightCyan:"#29B8DB",brightWhite:"#FFFFFF"};function Jt(e,t,r){const n=wt(e,r),s=Tt(t),o=Xt(Object.fromEntries(Ft.map(t=>{const r=`terminal.ansi${t[0].toUpperCase()}${t.substring(1)}`,n=e.colors?.[r];return[t,n||Qt[t]]}))),i=function(){let e=null,t=null,r=new Set;return{parse(n){const s=[];let o=0;do{const i=Wt(n,o),a=i.sequence?n.substring(o,i.startPosition):n.substring(o);if(a.length>0&&s.push({value:a,foreground:e,background:t,decorations:new Set(r)}),i.sequence){const n=Ht(i.sequence);for(const s of n)"resetAll"===s.type?(e=null,t=null,r.clear()):"resetForegroundColor"===s.type?e=null:"resetBackgroundColor"===s.type?t=null:"resetDecoration"===s.type&&r.delete(s.value);for(const s of n)"setForegroundColor"===s.type?e=s.value:"setBackgroundColor"===s.type?t=s.value:"setDecoration"===s.type&&r.add(s.value)}o=i.position}while(o<n.length);return s}}}();return s.map(t=>i.parse(t[0]).map(r=>{let s,i;r.decorations.has("reverse")?(s=r.background?o.value(r.background):e.bg,i=r.foreground?o.value(r.foreground):e.fg):(s=r.foreground?o.value(r.foreground):e.fg,i=r.background?o.value(r.background):void 0),s=kt(s,n),i=kt(i,n),r.decorations.has("dim")&&(s=function(e){const t=e.match(/#([0-9a-f]{3,8})/i);if(t){const e=t[1];if(8===e.length){const t=Math.round(Number.parseInt(e.slice(6,8),16)/2).toString(16).padStart(2,"0");return`#${e.slice(0,6)}${t}`}if(6===e.length)return`#${e}80`;if(4===e.length){const t=e[0],r=e[1],n=e[2],s=e[3];return`#${t}${t}${r}${r}${n}${n}${Math.round(Number.parseInt(`${s}${s}`,16)/2).toString(16).padStart(2,"0")}`}if(3===e.length){const t=e[0],r=e[1],n=e[2];return`#${t}${t}${r}${r}${n}${n}80`}}const r=e.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return r?`var(${r[1]}-dim)`:e}(s));let a=x.None;return r.decorations.has("bold")&&(a|=x.Bold),r.decorations.has("italic")&&(a|=x.Italic),r.decorations.has("underline")&&(a|=x.Underline),r.decorations.has("strikethrough")&&(a|=x.Strikethrough),{content:r.value,offset:t[1],color:s,bgColor:i,fontStyle:a}}))}function Zt(e,t,r={}){const{theme:n=e.getLoadedThemes()[0]}=r,s=e.resolveLangAlias(r.lang||"text");if(Ct(s)||Lt(n))return Tt(t).map(e=>[{content:e[0],offset:e[1]}]);const{theme:o,colorMap:i}=e.setTheme(n);if("ansi"===s)return Jt(o,t,r);const a=e.getLanguage(r.lang||"text");if(r.grammarState){if(r.grammarState.lang!==a.name)throw new g(`Grammar state language "${r.grammarState.lang}" does not match highlight language "${a.name}"`);if(!r.grammarState.themes.includes(o.name))throw new g(`Grammar state themes "${r.grammarState.themes}" do not contain highlight theme "${o.name}"`)}return function(e,t,r,n,s){const o=Kt(e,t,r,n,s),i=new Vt(o.stateStack,t.name,r.name);return jt(o.tokens,i),o.tokens}(t,a,o,i,r)}function Kt(e,t,r,n,s){const o=wt(r,s),{tokenizeMaxLineLength:i=0,tokenizeTimeLimit:a=500}=s,c=Tt(e);let l=s.grammarState?function(e,t){if(!(e instanceof Vt))throw new g("Invalid grammar state");return e.getInternalStack(t)}(s.grammarState,r.name)??Oe:null!=s.grammarContextCode?Kt(s.grammarContextCode,t,r,n,{...s,grammarState:void 0,grammarContextCode:void 0}).stateStack:Oe,u=[];const p=[];for(let d=0,h=c.length;d<h;d++){const[e,h]=c[d];if(""===e){u=[],p.push([]);continue}if(i>0&&e.length>=i){u=[],p.push([{content:e,offset:h,color:"",fontStyle:0}]);continue}let m,g,f;s.includeExplanation&&(m=t.tokenizeLine(e,l,a),g=m.tokens,f=0);const _=t.tokenizeLine2(e,l,a),y=_.tokens.length/2;for(let t=0;t<y;t++){const i=_.tokens[2*t],a=t+1<y?_.tokens[2*t+2]:e.length;if(i===a)continue;const c=_.tokens[2*t+1],l=kt(n[D.getForeground(c)],o),p=D.getFontStyle(c),d={content:e.substring(i,a),offset:h+i,color:l,fontStyle:p};if(s.includeExplanation){const t=[];if("scopeName"!==s.includeExplanation)for(const e of r.settings){let r;switch(typeof e.scope){case"string":r=e.scope.split(/,/).map(e=>e.trim());break;case"object":r=e.scope;break;default:continue}t.push({settings:e,selectors:r.map(e=>e.split(/ /))})}d.explanation=[];let n=0;for(;i+n<a;){const r=g[f],o=e.substring(r.startIndex,r.endIndex);n+=o.length,d.explanation.push({content:o,scopes:"scopeName"===s.includeExplanation?Yt(r.scopes):er(t,r.scopes)}),f+=1}}u.push(d)}p.push(u),u=[],l=_.ruleStack}return{tokens:p,stateStack:l}}function Yt(e){return e.map(e=>({scopeName:e}))}function er(e,t){const r=[];for(let n=0,s=t.length;n<s;n++){const s=t[n];r[n]={scopeName:s,themeMatches:nr(e,s,t.slice(0,n))}}return r}function tr(e,t){return e===t||t.substring(0,e.length)===e&&"."===t[e.length]}function rr(e,t,r){if(!tr(e[e.length-1],t))return!1;let n=e.length-2,s=r.length-1;for(;n>=0&&s>=0;)tr(e[n],r[s])&&(n-=1),s-=1;return-1===n}function nr(e,t,r){const n=[];for(const{selectors:s,settings:o}of e)for(const e of s)if(rr(e,t,r)){n.push(o);break}return n}function sr(e,t,r){const n=Object.entries(r.themes).filter(e=>e[1]).map(e=>({color:e[0],theme:e[1]})),s=n.map(n=>{const s=Zt(e,t,{...r,theme:n.theme});return{tokens:s,state:Dt(s),theme:"string"==typeof n.theme?n.theme:n.theme.name}}),o=function(...e){const t=e.map(()=>[]),r=e.length;for(let n=0;n<e[0].length;n++){const s=e.map(e=>e[n]),o=t.map(()=>[]);t.forEach((e,t)=>e.push(o[t]));const i=s.map(()=>0),a=s.map(e=>e[0]);for(;a.every(e=>e);){const e=Math.min(...a.map(e=>e.content.length));for(let t=0;t<r;t++){const r=a[t];r.content.length===e?(o[t].push(r),i[t]+=1,a[t]=s[t][i[t]]):(o[t].push({...r,content:r.content.slice(0,e)}),a[t]={...r,content:r.content.slice(e),offset:r.offset+e})}}}return t}(...s.map(e=>e.tokens)),i=o[0].map((e,t)=>e.map((e,s)=>{const i={content:e.content,variants:{},offset:e.offset};return"includeExplanation"in r&&r.includeExplanation&&(i.explanation=e.explanation),o.forEach((e,r)=>{const{content:o,explanation:a,offset:c,...l}=e[t][s];i.variants[n[r].color]=l}),i})),a=s[0].state?new Vt(Object.fromEntries(s.map(e=>[e.theme,e.state?.getInternalStack(e.theme)])),s[0].state.lang):void 0;return a&&jt(i,a),i}function or(e,t,r){let n,s,o,i,a,c;if("themes"in r){const{defaultColor:l="light",cssVariablePrefix:u="--shiki-",colorsRendering:p="css-vars"}=r,d=Object.entries(r.themes).filter(e=>e[1]).map(e=>({color:e[0],theme:e[1]})).sort((e,t)=>e.color===l?-1:t.color===l?1:0);if(0===d.length)throw new g("`themes` option must not be empty");const h=sr(e,t,r);if(c=Dt(h),l&&Rt!==l&&!d.find(e=>e.color===l))throw new g(`\`themes\` option must contain the defaultColor key \`${l}\``);const m=d.map(t=>e.getTheme(t.theme)),f=d.map(e=>e.color);o=h.map(e=>e.map(e=>function(e,t,r,n,s="css-vars"){const o={content:e.content,explanation:e.explanation,offset:e.offset},i=t.map(t=>vt(e.variants[t])),a=new Set(i.flatMap(e=>Object.keys(e))),c={},l=(e,n)=>{const s="color"===n?"":"background-color"===n?"-bg":`-${n}`;return r+t[e]+("color"===n?"":s)};return i.forEach((e,r)=>{for(const o of a){const a=e[o]||"inherit";if(0===r&&n&&xt.includes(o))if(n===Rt&&i.length>1){const e=t.findIndex(e=>"light"===e),n=t.findIndex(e=>"dark"===e);if(-1===e||-1===n)throw new g('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const u=i[e][o]||"inherit",p=i[n][o]||"inherit";c[o]=`light-dark(${u}, ${p})`,"css-vars"===s&&(c[l(r,o)]=a)}else c[o]=a;else"css-vars"===s&&(c[l(r,o)]=a)}}),o.htmlStyle=c,o}(e,f,u,l,p))),c&&jt(o,c);const _=d.map(e=>wt(e.theme,r));s=ir(d,m,_,u,l,"fg",p),n=ir(d,m,_,u,l,"bg",p),i=`shiki-themes ${m.map(e=>e.name).join(" ")}`,a=l?void 0:[s,n].join(";")}else{if(!("theme"in r))throw new g("Invalid options, either `theme` or `themes` must be provided");{const a=wt(r.theme,r);o=Zt(e,t,r);const l=e.getTheme(r.theme);n=kt(l.bg,a),s=kt(l.fg,a),i=l.name,c=Dt(o)}}return{tokens:o,fg:s,bg:n,themeName:i,rootStyle:a,grammarState:c}}function ir(e,t,r,n,s,o,i){return e.map((a,c)=>{const l=kt(t[c][o],r[c])||"inherit",u=`${n+a.color}${"bg"===o?"-bg":""}:${l}`;if(0===c&&s){if(s===Rt&&e.length>1){const n=e.findIndex(e=>"light"===e.color),s=e.findIndex(e=>"dark"===e.color);if(-1===n||-1===s)throw new g('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');return`light-dark(${kt(t[n][o],r[n])||"inherit"}, ${kt(t[s][o],r[s])||"inherit"});${u}`}return l}return"css-vars"===i?u:null}).filter(e=>!!e).join(";")}function ar(e,t,r,n={meta:{},options:r,codeToHast:(t,r)=>ar(e,t,r),codeToTokens:(t,r)=>or(e,t,r)}){let s=t;for(const m of Bt(r))s=m.preprocess?.call(n,s,r)||s;let{tokens:o,fg:i,bg:a,themeName:c,rootStyle:l,grammarState:u}=or(e,s,r);const{mergeWhitespaces:p=!0,mergeSameStyleTokens:d=!1}=r;!0===p?o=function(e){return e.map(e=>{const t=[];let r,n="";return e.forEach((s,o)=>{const i=!(s.fontStyle&&(s.fontStyle&x.Underline||s.fontStyle&x.Strikethrough));i&&s.content.match(/^\s+$/)&&e[o+1]?(void 0===r&&(r=s.offset),n+=s.content):n?(i?t.push({...s,offset:r,content:n+s.content}):t.push({content:n,offset:r},s),r=void 0,n=""):t.push(s)}),t})}(o):"never"===p&&(o=function(e){return e.map(e=>e.flatMap(e=>{if(e.content.match(/^\s+$/))return e;const t=e.content.match(/^(\s*)(.*?)(\s*)$/);if(!t)return e;const[,r,n,s]=t;if(!r&&!s)return e;const o=[{...e,offset:e.offset+r.length,content:n}];return r&&o.unshift({content:r,offset:e.offset}),s&&o.push({content:s,offset:e.offset+r.length+n.length}),o}))}(o)),d&&(o=function(e){return e.map(e=>{const t=[];for(const r of e){if(0===t.length){t.push({...r});continue}const e=t[t.length-1],n=Ot(e.htmlStyle||vt(e)),s=Ot(r.htmlStyle||vt(r)),o=e.fontStyle&&(e.fontStyle&x.Underline||e.fontStyle&x.Strikethrough),i=r.fontStyle&&(r.fontStyle&x.Underline||r.fontStyle&x.Strikethrough);o||i||n!==s?t.push({...r}):e.content+=r.content}return t})}(o));const h={...n,get source(){return s}};for(const m of Bt(r))o=m.tokens?.call(h,o)||o;return function(e,t,r,n=Dt(e)){const s=Bt(t),o=[],i={type:"root",children:[]},{structure:a="classic",tabindex:c="0"}=t,l={class:`shiki ${t.themeName||""}`};!1!==t.rootStyle&&(null!=t.rootStyle?l.style=t.rootStyle:l.style=`background-color:${t.bg};color:${t.fg}`);!1!==c&&null!=c&&(l.tabindex=c.toString());for(const[g,f]of Object.entries(t.meta||{}))g.startsWith("_")||(l[g]=f);let u={type:"element",tagName:"pre",properties:l,children:[],data:t.data},p={type:"element",tagName:"code",properties:{},children:o};const d=[],h={...r,structure:a,addClassToHast:St,get source(){return r.source},get tokens(){return e},get options(){return t},get root(){return i},get pre(){return u},get code(){return p},get lines(){return d}};if(e.forEach((e,t)=>{t&&("inline"===a?i.children.push({type:"element",tagName:"br",properties:{},children:[]}):"classic"===a&&o.push({type:"text",value:"\n"}));let r={type:"element",tagName:"span",properties:{class:"line"},children:[]},n=0;for(const o of e){let e={type:"element",tagName:"span",properties:{...o.htmlAttrs},children:[{type:"text",value:o.content}]};const c=Ot(o.htmlStyle||vt(o));c&&(e.properties.style=c);for(const i of s)e=i?.span?.call(h,e,t+1,n,r,o)||e;"inline"===a?i.children.push(e):"classic"===a&&r.children.push(e),n+=o.content.length}if("classic"===a){for(const e of s)r=e?.line?.call(h,r,t+1)||r;d.push(r),o.push(r)}else"inline"===a&&d.push(r)}),"classic"===a){for(const e of s)p=e?.code?.call(h,p)||p;u.children.push(p);for(const e of s)u=e?.pre?.call(h,u)||u;i.children.push(u)}else if("inline"===a){const e=[];let t={type:"element",tagName:"span",properties:{class:"line"},children:[]};for(const n of i.children)"element"===n.type&&"br"===n.tagName?(e.push(t),t={type:"element",tagName:"span",properties:{class:"line"},children:[]}):"element"!==n.type&&"text"!==n.type||t.children.push(n);e.push(t);let r={type:"element",tagName:"code",properties:{},children:e};for(const n of s)r=n?.code?.call(h,r)||r;i.children=[];for(let n=0;n<r.children.length;n++){n>0&&i.children.push({type:"element",tagName:"br",properties:{},children:[]});const e=r.children[n];"element"===e.type&&i.children.push(...e.children)}}let m=i;for(const g of s)m=g?.root?.call(h,m)||m;n&&jt(m,n);return m}(o,{...r,fg:i,bg:a,themeName:c,rootStyle:!1!==r.rootStyle&&(r.rootStyle??l)},h,u)}const cr=function(e,r){const n=r||ft,s=n.quote||'"',o='"'===s?"'":'"';if('"'!==s&&"'"!==s)throw new Error("Invalid quote `"+s+"`, expected `'` or `\"`");return{one:Et,all:bt,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||c,characterReferences:n.characterReferences||_t,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:"svg"===n.space?t:a,quote:s,alternative:o}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)};const lr="#333333",ur="#bbbbbb",pr="#fffffe",dr="#1e1e1e",hr="__shiki_resolved";function mr(e){if(e?.[hr])return e;const t={...e};t.tokenColors&&!t.settings&&(t.settings=t.tokenColors,delete t.tokenColors),t.type||="dark",t.colorReplacements={...t.colorReplacements},t.settings||=[];let{bg:r,fg:n}=t;if(!r||!n){const e=t.settings?t.settings.find(e=>!e.name&&!e.scope):void 0;e?.settings?.foreground&&(n=e.settings.foreground),e?.settings?.background&&(r=e.settings.background),!n&&t?.colors?.["editor.foreground"]&&(n=t.colors["editor.foreground"]),!r&&t?.colors?.["editor.background"]&&(r=t.colors["editor.background"]),n||(n="light"===t.type?lr:ur),r||(r="light"===t.type?pr:dr),t.fg=n,t.bg=r}t.settings[0]&&t.settings[0].settings&&!t.settings[0].scope||t.settings.unshift({settings:{foreground:t.fg,background:t.bg}});let s=0;const o=new Map;function i(e){if(o.has(e))return o.get(e);s+=1;const r=`#${s.toString(16).padStart(8,"0").toLowerCase()}`;return t.colorReplacements?.[`#${r}`]?i(e):(o.set(e,r),r)}t.settings=t.settings.map(e=>{const r=e.settings?.foreground&&!e.settings.foreground.startsWith("#"),n=e.settings?.background&&!e.settings.background.startsWith("#");if(!r&&!n)return e;const s={...e,settings:{...e.settings}};if(r){const r=i(e.settings.foreground);t.colorReplacements[r]=e.settings.foreground,s.settings.foreground=r}if(n){const r=i(e.settings.background);t.colorReplacements[r]=e.settings.background,s.settings.background=r}return s});for(const a of Object.keys(t.colors||{}))if(("editor.foreground"===a||"editor.background"===a||a.startsWith("terminal.ansi"))&&!t.colors[a]?.startsWith("#")){const e=i(t.colors[a]);t.colorReplacements[e]=t.colors[a],t.colors[a]=e}return Object.defineProperty(t,hr,{enumerable:!1,writable:!1,value:!0}),t}async function gr(e){return Array.from(new Set((await Promise.all(e.filter(e=>!It(e)).map(async e=>await At(e).then(e=>Array.isArray(e)?e:[e])))).flat()))}async function fr(e){return(await Promise.all(e.map(async e=>Pt(e)?null:mr(await At(e))))).filter(e=>!!e)}let _r=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function yr(e,t){if(!t)return e;if(t[e]){const r=new Set([e]);for(;t[e];){if(e=t[e],r.has(e))throw new _r(`Circular alias \`${Array.from(r).join(" -> ")} -> ${e}\``);r.add(e)}}return e}class Er extends ve{constructor(e,t,r,n={}){super(e),this._resolver=e,this._themes=t,this._langs=r,this._alias=n,this._themes.map(e=>this.loadTheme(e)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(e){return"string"==typeof e?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){const t=mr(e);return t.name&&(this._resolvedThemes.set(t.name,t),this._loadedThemesCache=null),t}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(e){let t=this._textmateThemeCache.get(e);t||(t=L.createFromRawTheme(e),this._textmateThemeCache.set(e,t)),this._syncRegistry.setTheme(t)}getGrammar(e){return e=yr(e,this._alias),this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;const t=new Set([...this._langMap.values()].filter(t=>t.embeddedLangsLazy?.includes(e.name)));this._resolver.addLanguage(e);const r={balancedBracketSelectors:e.balancedBracketSelectors||["*"],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);const n=this.loadGrammarWithConfiguration(e.scopeName,1,r);if(n.name=e.name,this._resolvedGrammars.set(e.name,n),e.aliases&&e.aliases.forEach(t=>{this._alias[t]=e.name}),this._loadedLanguagesCache=null,t.size)for(const s of t)this._resolvedGrammars.delete(s.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(s.scopeName),this._syncRegistry?._grammars?.delete(s.scopeName),this.loadLanguage(this._langMap.get(s.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(const n of e)this.resolveEmbeddedLanguages(n);const t=Array.from(this._langGraph.entries()),r=t.filter(([e,t])=>!t);if(r.length){const e=t.filter(([e,t])=>{if(!t)return!1;const n=t.embeddedLanguages||t.embeddedLangs;return n?.some(e=>r.map(([e])=>e).includes(e))}).filter(e=>!r.includes(e));throw new _r(`Missing languages ${r.map(([e])=>`\`${e}\``).join(", ")}, required by ${e.map(([e])=>`\`${e}\``).join(", ")}`)}for(const[n,s]of t)this._resolver.addLanguage(s);for(const[n,s]of t)this.loadLanguage(s)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(e){this._langMap.set(e.name,e),this._langGraph.set(e.name,e);const t=e.embeddedLanguages??e.embeddedLangs;if(t)for(const r of t)this._langGraph.set(r,this._langMap.get(r))}}class br{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(e,t){this._onigLib={createOnigScanner:t=>e.createScanner(t),createOnigString:t=>e.createString(t)},t.forEach(e=>this.addLanguage(e))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(t=>{this._langs.set(t,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(t=>{this._injections.get(t)||this._injections.set(t,[]),this._injections.get(t).push(e.scopeName)})}getInjections(e){const t=e.split(".");let r=[];for(let n=1;n<=t.length;n++){const e=t.slice(0,n).join(".");r=[...r,...this._injections.get(e)||[]]}return r}}let wr=0;async function kr(e){e.engine||function(e,t=3){t>3||console.trace(`[SHIKI DEPRECATE]: ${e}`)}("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[t,r,n]=await Promise.all([fr(e.themes||[]),gr(e.langs||[]),e.engine]);return function(e){wr+=1,!1!==e.warnings&&wr>=10&&wr%10==0&&console.warn(`[Shiki] ${wr} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let t=!1;if(!e.engine)throw new _r("`engine` option is required for synchronous mode");const r=(e.langs||[]).flat(1),n=(e.themes||[]).flat(1).map(mr),s=new br(e.engine,r),o=new Er(s,n,r,e.langAlias);let i;function a(e){if("none"===e)return{bg:"",fg:"",name:"none",settings:[],type:"dark"};u();const t=o.getTheme(e);if(!t)throw new _r(`Theme \`${e}\` not found, you may need to load it first`);return t}function c(...e){u(),o.loadLanguages(e.flat(1))}function l(...e){u();for(const t of e.flat(1))o.loadTheme(t)}function u(){if(t)throw new _r("Shiki instance has been disposed")}function p(){t||(t=!0,o.dispose(),wr-=1)}return{setTheme:function(e){u();const t=a(e);return i!==e&&(o.setTheme(t),i=e),{theme:t,colorMap:o.getColorMap()}},getTheme:a,getLanguage:function(e){u();const t=o.getGrammar("string"==typeof e?e:e.name);if(!t)throw new _r(`Language \`${e}\` not found, you may need to load it first`);return t},getLoadedThemes:function(){return u(),o.getLoadedThemes()},getLoadedLanguages:function(){return u(),o.getLoadedLanguages()},resolveLangAlias:function(t){return yr(t,e.langAlias)},loadLanguage:async function(...e){return c(await gr(e))},loadLanguageSync:c,loadTheme:async function(...e){return u(),l(await fr(e))},loadThemeSync:l,dispose:p,[Symbol.dispose]:p}}({...e,themes:t,langs:r,engine:n})}async function Ar(e){const t=await kr(e);return{getLastGrammarState:(...e)=>function(...e){if(2===e.length)return Dt(e[1]);const[t,r,n={}]=e,{lang:s="text",theme:o=t.getLoadedThemes()[0]}=n;if(Ct(s)||Lt(o))throw new g("Plain language does not have grammar state");if("ansi"===s)throw new g("ANSI language does not have grammar state");const{theme:i,colorMap:a}=t.setTheme(o),c=t.getLanguage(s);return new Vt(Kt(r,c,i,a,n).stateStack,c.name,i.name)}(t,...e),codeToTokensBase:(e,r)=>Zt(t,e,r),codeToTokensWithThemes:(e,r)=>sr(t,e,r),codeToTokens:(e,r)=>or(t,e,r),codeToHast:(e,r)=>ar(t,e,r),codeToHtml:(e,r)=>function(e,t,r){const n={meta:{},options:r,codeToHast:(t,r)=>ar(e,t,r),codeToTokens:(t,r)=>or(e,t,r)};let s=cr(ar(e,t,r,n));for(const o of Bt(r))s=o.postprocess?.call(n,s,r)||s;return s}(t,e,r),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...t,getInternalContext:()=>t}}function Cr(e){const t=e.langs,r=e.themes,n=e.engine;return async function(e){function s(r){if("string"==typeof r){if(It(r=e.langAlias?.[r]||r))return[];const n=t[r];if(!n)throw new g(`Language \`${r}\` is not included in this bundle. You may want to load it from external source.`);return n}return r}function o(e){if(Pt(e))return"none";if("string"==typeof e){const t=r[e];if(!t)throw new g(`Theme \`${e}\` is not included in this bundle. You may want to load it from external source.`);return t}return e}const i=(e.themes??[]).map(e=>o(e)),a=(e.langs??[]).map(e=>s(e)),c=await Ar({engine:e.engine??n(),...e,themes:i,langs:a});return{...c,loadLanguage:(...e)=>c.loadLanguage(...e.map(s)),loadTheme:(...e)=>c.loadTheme(...e.map(o)),getBundledLanguages:()=>t,getBundledThemes:()=>r}}}const Ir=[{id:"abap",name:"ABAP",import:()=>l(()=>import("./abap-DnJxzdy9.js"),[])},{id:"actionscript-3",name:"ActionScript",import:()=>l(()=>import("./actionscript-3-CKUqbIUM.js"),[])},{id:"ada",name:"Ada",import:()=>l(()=>import("./ada-iG1FnIvR.js"),[])},{id:"angular-html",name:"Angular HTML",import:()=>l(()=>import("./angular-html-CGDGYtiS.js").then(e=>e.f),__vite__mapDeps([0,1,2,3]))},{id:"angular-ts",name:"Angular TypeScript",import:()=>l(()=>import("./angular-ts-5zO4eZho.js"),__vite__mapDeps([4,0,1,2,3,5]))},{id:"apache",name:"Apache Conf",import:()=>l(()=>import("./apache-CdTKWnKT.js"),[])},{id:"apex",name:"Apex",import:()=>l(()=>import("./apex-DPFMkx-R.js"),[])},{id:"apl",name:"APL",import:()=>l(()=>import("./apl-DnQuo7r7.js"),__vite__mapDeps([6,1,2,3,7,8,9]))},{id:"applescript",name:"AppleScript",import:()=>l(()=>import("./applescript-BlLNmGTp.js"),[])},{id:"ara",name:"Ara",import:()=>l(()=>import("./ara-Ba3fhlsS.js"),[])},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:()=>l(()=>import("./asciidoc-XTVL4-GN.js"),[])},{id:"asm",name:"Assembly",import:()=>l(()=>import("./asm-CHX6lpGW.js"),[])},{id:"astro",name:"Astro",import:()=>l(()=>import("./astro-B5Br1cQb.js"),__vite__mapDeps([10,9,2,11,3,12,13]))},{id:"awk",name:"AWK",import:()=>l(()=>import("./awk-XRrwoikR.js"),[])},{id:"ballerina",name:"Ballerina",import:()=>l(()=>import("./ballerina-Dh0JsEtz.js"),[])},{id:"bat",name:"Batch File",aliases:["batch"],import:()=>l(()=>import("./bat-BVu0TwaT.js"),[])},{id:"beancount",name:"Beancount",import:()=>l(()=>import("./beancount-CJl0njO0.js"),[])},{id:"berry",name:"Berry",aliases:["be"],import:()=>l(()=>import("./berry-Bmu6i3Vs.js"),[])},{id:"bibtex",name:"BibTeX",import:()=>l(()=>import("./bibtex-CGjxJ4Zd.js"),[])},{id:"bicep",name:"Bicep",import:()=>l(()=>import("./bicep-DSW96mAt.js"),[])},{id:"blade",name:"Blade",import:()=>l(()=>import("./blade-C76tewJX.js"),__vite__mapDeps([14,15,1,2,3,7,8,16,9]))},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:()=>l(()=>import("./bsl-DGicdwC0.js"),__vite__mapDeps([17,18]))},{id:"c",name:"C",import:()=>l(()=>import("./c-BmJt9k-y.js"),[])},{id:"c3",name:"C3",import:()=>l(()=>import("./c3-B5xr2KH_.js"),[])},{id:"cadence",name:"Cadence",aliases:["cdc"],import:()=>l(()=>import("./cadence-DbDq8SCj.js"),[])},{id:"cairo",name:"Cairo",import:()=>l(()=>import("./cairo-Dz8fl918.js"),__vite__mapDeps([19,20]))},{id:"clarity",name:"Clarity",import:()=>l(()=>import("./clarity-Bb40UnPS.js"),[])},{id:"clojure",name:"Clojure",aliases:["clj"],import:()=>l(()=>import("./clojure-BjI0Knrv.js"),[])},{id:"cmake",name:"CMake",import:()=>l(()=>import("./cmake-BYiqpiH1.js"),[])},{id:"cobol",name:"COBOL",import:()=>l(()=>import("./cobol-DQUyVTuR.js"),__vite__mapDeps([21,1,2,3,8]))},{id:"codeowners",name:"CODEOWNERS",import:()=>l(()=>import("./codeowners-L91meNbn.js"),[])},{id:"codeql",name:"CodeQL",aliases:["ql"],import:()=>l(()=>import("./codeql-Cd-JFsJB.js"),[])},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:()=>l(()=>import("./coffee-BDkVV41o.js"),__vite__mapDeps([22,2]))},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:()=>l(()=>import("./common-lisp-DOi1njVG.js"),[])},{id:"coq",name:"Coq",import:()=>l(()=>import("./coq-BfbrVLCY.js"),[])},{id:"cpp",name:"C++",aliases:["c++"],import:()=>l(()=>import("./cpp-BmKY377x.js"),__vite__mapDeps([23,24,25,26,16]))},{id:"crystal",name:"Crystal",import:()=>l(()=>import("./crystal-CaN4TS0s.js"),__vite__mapDeps([27,1,2,3,16,26,28]))},{id:"csharp",name:"C#",aliases:["c#","cs"],import:()=>l(()=>import("./csharp-D3FXe4qe.js"),[])},{id:"css",name:"CSS",import:()=>l(()=>import("./css-l46fsARh.js"),[])},{id:"csv",name:"CSV",import:()=>l(()=>import("./csv-DXKU4rRd.js"),[])},{id:"cue",name:"CUE",import:()=>l(()=>import("./cue-zmT78Agv.js"),[])},{id:"cypher",name:"Cypher",aliases:["cql"],import:()=>l(()=>import("./cypher-bkHSskm3.js"),[])},{id:"d",name:"D",import:()=>l(()=>import("./d-vs9xsbRV.js"),[])},{id:"dart",name:"Dart",import:()=>l(()=>import("./dart-BMkYYGiN.js"),[])},{id:"dax",name:"DAX",import:()=>l(()=>import("./dax-D135z3aS.js"),[])},{id:"desktop",name:"Desktop",import:()=>l(()=>import("./desktop-CigPEpQ5.js"),[])},{id:"diff",name:"Diff",import:()=>l(()=>import("./diff-Beq1YlA8.js"),[])},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:()=>l(()=>import("./docker-V5Al5bpF.js"),[])},{id:"dotenv",name:"dotEnv",import:()=>l(()=>import("./dotenv-D9G8sA2m.js"),[])},{id:"dream-maker",name:"Dream Maker",import:()=>l(()=>import("./dream-maker-BsoKROiO.js"),[])},{id:"edge",name:"Edge",import:()=>l(()=>import("./edge-BEMgb-sr.js"),__vite__mapDeps([29,11,1,2,3,15]))},{id:"elixir",name:"Elixir",import:()=>l(()=>import("./elixir-BkUQLiPT.js"),__vite__mapDeps([30,1,2,3]))},{id:"elm",name:"Elm",import:()=>l(()=>import("./elm-DmpuOW2E.js"),__vite__mapDeps([31,25,26]))},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:()=>l(()=>import("./emacs-lisp-BcpYGiHp.js"),[])},{id:"erb",name:"ERB",import:()=>l(()=>import("./erb-cvdOxzy-.js"),__vite__mapDeps([32,1,2,3,33,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38]))},{id:"erlang",name:"Erlang",aliases:["erl"],import:()=>l(()=>import("./erlang-DAw79KxH.js"),__vite__mapDeps([39,40]))},{id:"fennel",name:"Fennel",import:()=>l(()=>import("./fennel-qzPJJAAI.js"),[])},{id:"fish",name:"Fish",import:()=>l(()=>import("./fish-Cx6My9pS.js"),[])},{id:"fluent",name:"Fluent",aliases:["ftl"],import:()=>l(()=>import("./fluent-BsukS3Co.js"),[])},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:()=>l(()=>import("./fortran-fixed-form-BiRvzwyR.js"),__vite__mapDeps([41,42]))},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:()=>l(()=>import("./fortran-free-form-CakU9R0a.js"),[])},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:()=>l(()=>import("./fsharp-BmLNaTNL.js"),__vite__mapDeps([43,40]))},{id:"gdresource",name:"GDResource",import:()=>l(()=>import("./gdresource-BLuZCTp3.js"),__vite__mapDeps([44,45,46]))},{id:"gdscript",name:"GDScript",import:()=>l(()=>import("./gdscript-fffAh1pn.js"),[])},{id:"gdshader",name:"GDShader",import:()=>l(()=>import("./gdshader-BC7WJXp9.js"),[])},{id:"genie",name:"Genie",import:()=>l(()=>import("./genie-IZOju1hG.js"),[])},{id:"gherkin",name:"Gherkin",import:()=>l(()=>import("./gherkin-DUpgZfGr.js"),[])},{id:"git-commit",name:"Git Commit Message",import:()=>l(()=>import("./git-commit-Bptnmh-c.js"),__vite__mapDeps([47,48]))},{id:"git-rebase",name:"Git Rebase Message",import:()=>l(()=>import("./git-rebase-C47RzcQS.js"),__vite__mapDeps([49,28]))},{id:"gleam",name:"Gleam",import:()=>l(()=>import("./gleam-CCCEh_av.js"),[])},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:()=>l(()=>import("./glimmer-js-Bxt49MuP.js"),__vite__mapDeps([50,2,11,3,1]))},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:()=>l(()=>import("./glimmer-ts-BsGfVpaS.js"),__vite__mapDeps([51,11,3,2,1]))},{id:"glsl",name:"GLSL",import:()=>l(()=>import("./glsl-BDbjGBhJ.js"),__vite__mapDeps([25,26]))},{id:"gn",name:"GN",import:()=>l(()=>import("./gn-BNGDdMfm.js"),[])},{id:"gnuplot",name:"Gnuplot",import:()=>l(()=>import("./gnuplot-D0FoiB-W.js"),[])},{id:"go",name:"Go",import:()=>l(()=>import("./go-BR7YH85S.js"),[])},{id:"graphql",name:"GraphQL",aliases:["gql"],import:()=>l(()=>import("./graphql-DTlHKpVh.js"),__vite__mapDeps([35,2,11,36,13]))},{id:"groovy",name:"Groovy",import:()=>l(()=>import("./groovy-D9sPn4Z-.js"),[])},{id:"hack",name:"Hack",import:()=>l(()=>import("./hack-B6RDfhIS.js"),__vite__mapDeps([52,1,2,3,16]))},{id:"haml",name:"Ruby Haml",import:()=>l(()=>import("./haml-DvFFb5cL.js"),__vite__mapDeps([34,2,3]))},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:()=>l(()=>import("./handlebars--3HEtxsY.js"),__vite__mapDeps([53,1,2,3,38]))},{id:"haskell",name:"Haskell",aliases:["hs"],import:()=>l(()=>import("./haskell-Cp0NQEkn.js"),[])},{id:"haxe",name:"Haxe",import:()=>l(()=>import("./haxe-D-PmAGDa.js"),[])},{id:"hcl",name:"HashiCorp HCL",import:()=>l(()=>import("./hcl-DRMo6eis.js"),[])},{id:"hjson",name:"Hjson",import:()=>l(()=>import("./hjson-BPEpXUFQ.js"),[])},{id:"hlsl",name:"HLSL",import:()=>l(()=>import("./hlsl-B-PjNM4a.js"),[])},{id:"html",name:"HTML",import:()=>l(()=>import("./html-Z-jPWkqI.js"),__vite__mapDeps([1,2,3]))},{id:"html-derivative",name:"HTML (Derivative)",import:()=>l(()=>import("./html-derivative-CUTCBBy5.js"),__vite__mapDeps([15,1,2,3]))},{id:"http",name:"HTTP",import:()=>l(()=>import("./http-C5yS503b.js"),__vite__mapDeps([54,28,9,7,8,35,2,11,36,13]))},{id:"hurl",name:"Hurl",import:()=>l(()=>import("./hurl-DX_i18ky.js"),__vite__mapDeps([55,35,2,11,36,13,7,8,56]))},{id:"hxml",name:"HXML",import:()=>l(()=>import("./hxml-DB3_nACV.js"),__vite__mapDeps([57,58]))},{id:"hy",name:"Hy",import:()=>l(()=>import("./hy-CLIvbAhW.js"),[])},{id:"imba",name:"Imba",import:()=>l(()=>import("./imba-B-tO30Ge.js"),[])},{id:"ini",name:"INI",aliases:["properties"],import:()=>l(()=>import("./ini-Bpxu4Zsc.js"),[])},{id:"java",name:"Java",import:()=>l(()=>import("./java-DtRXFtDl.js"),[])},{id:"javascript",name:"JavaScript",aliases:["js","cjs","mjs"],import:()=>l(()=>import("./javascript-DFyEbC5y.js"),[])},{id:"jinja",name:"Jinja",import:()=>l(()=>import("./jinja-CEGI0ERt.js"),__vite__mapDeps([59,1,2,3]))},{id:"jison",name:"Jison",import:()=>l(()=>import("./jison-rKmQmF2-.js"),__vite__mapDeps([60,2]))},{id:"json",name:"JSON",import:()=>l(()=>import("./json-LWN7Ml79.js"),[])},{id:"json5",name:"JSON5",import:()=>l(()=>import("./json5-CgCB487x.js"),[])},{id:"jsonc",name:"JSON with Comments",import:()=>l(()=>import("./jsonc-BXrjvC_e.js"),[])},{id:"jsonl",name:"JSON Lines",import:()=>l(()=>import("./jsonl-D5dm1SHP.js"),[])},{id:"jsonnet",name:"Jsonnet",import:()=>l(()=>import("./jsonnet-B60UklUs.js"),[])},{id:"jssm",name:"JSSM",aliases:["fsl"],import:()=>l(()=>import("./jssm-CsqlGknB.js"),[])},{id:"jsx",name:"JSX",import:()=>l(()=>import("./jsx-g2NrEQII.js"),[])},{id:"julia",name:"Julia",aliases:["jl"],import:()=>l(()=>import("./julia-cok74C3v.js"),__vite__mapDeps([61,23,24,25,26,16,20,2,62]))},{id:"kdl",name:"KDL",import:()=>l(()=>import("./kdl-DWIPcypl.js"),[])},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:()=>l(()=>import("./kotlin-DiV2Dt9D.js"),[])},{id:"kusto",name:"Kusto",aliases:["kql"],import:()=>l(()=>import("./kusto-BJ51M1bD.js"),[])},{id:"latex",name:"LaTeX",import:()=>l(()=>import("./latex-CS-QvtM-.js"),__vite__mapDeps([63,64,62]))},{id:"lean",name:"Lean 4",aliases:["lean4"],import:()=>l(()=>import("./lean-BpZurxeZ.js"),[])},{id:"less",name:"Less",import:()=>l(()=>import("./less-DKKxO4Pm.js"),[])},{id:"liquid",name:"Liquid",import:()=>l(()=>import("./liquid-C2bTOIx_.js"),__vite__mapDeps([65,1,2,3,9]))},{id:"llvm",name:"LLVM IR",import:()=>l(()=>import("./llvm-BMwXnwe8.js"),[])},{id:"log",name:"Log file",import:()=>l(()=>import("./log-CnKjEmrw.js"),[])},{id:"logo",name:"Logo",import:()=>l(()=>import("./logo-BmG1tMr6.js"),[])},{id:"lua",name:"Lua",import:()=>l(()=>import("./lua-B09NiSMa.js"),__vite__mapDeps([37,26]))},{id:"luau",name:"Luau",import:()=>l(()=>import("./luau-BImqhNgT.js"),[])},{id:"make",name:"Makefile",aliases:["makefile"],import:()=>l(()=>import("./make-Ccm3NI5i.js"),[])},{id:"markdown",name:"Markdown",aliases:["md"],import:()=>l(()=>import("./markdown-DY93LJPj.js"),[])},{id:"marko",name:"Marko",import:()=>l(()=>import("./marko-2xMnbWEh.js"),__vite__mapDeps([66,3,67,5,11]))},{id:"matlab",name:"MATLAB",import:()=>l(()=>import("./matlab-nYX3zffi.js"),[])},{id:"mdc",name:"MDC",import:()=>l(()=>import("./mdc-BKY8rYwz.js"),__vite__mapDeps([68,40,38,15,1,2,3]))},{id:"mdx",name:"MDX",import:()=>l(()=>import("./mdx-C8C9IGe9.js"),[])},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:()=>l(()=>import("./mermaid--Jyu4oWd.js"),[])},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:()=>l(()=>import("./mipsasm-BjAqecqh.js"),[])},{id:"mojo",name:"Mojo",import:()=>l(()=>import("./mojo-CxwnvobC.js"),[])},{id:"moonbit",name:"MoonBit",aliases:["mbt","mbti"],import:()=>l(()=>import("./moonbit-Cu4LvJk1.js"),[])},{id:"move",name:"Move",import:()=>l(()=>import("./move-Cr8dt_E3.js"),[])},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:()=>l(()=>import("./narrat-BTSicUR-.js"),[])},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:()=>l(()=>import("./nextflow-D-awTbLA.js"),[])},{id:"nginx",name:"Nginx",import:()=>l(()=>import("./nginx-CtwUG8yW.js"),__vite__mapDeps([69,37,26]))},{id:"nim",name:"Nim",import:()=>l(()=>import("./nim-BDZhFo_A.js"),__vite__mapDeps([70,26,1,2,3,7,8,25,40]))},{id:"nix",name:"Nix",import:()=>l(()=>import("./nix-Dd0CGXk3.js"),[])},{id:"nushell",name:"nushell",aliases:["nu"],import:()=>l(()=>import("./nushell-Cdolw_6l.js"),[])},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:()=>l(()=>import("./objective-c-DLT9zZoE.js"),[])},{id:"objective-cpp",name:"Objective-C++",import:()=>l(()=>import("./objective-cpp-DKXr-AK_.js"),[])},{id:"ocaml",name:"OCaml",import:()=>l(()=>import("./ocaml-DP9q6K5L.js"),[])},{id:"openscad",name:"OpenSCAD",aliases:["scad"],import:()=>l(()=>import("./openscad-CVq2HK1T.js"),[])},{id:"pascal",name:"Pascal",import:()=>l(()=>import("./pascal-DjTTLVNS.js"),[])},{id:"perl",name:"Perl",import:()=>l(()=>import("./perl-BemjezQW.js"),__vite__mapDeps([71,1,2,3,7,8,16]))},{id:"php",name:"PHP",import:()=>l(()=>import("./php-8bIhiPC7.js"),__vite__mapDeps([72,1,2,3,7,8,16,9]))},{id:"pkl",name:"Pkl",import:()=>l(()=>import("./pkl-0Sl31KKD.js"),[])},{id:"plsql",name:"PL/SQL",import:()=>l(()=>import("./plsql-CJrHCTnj.js"),[])},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:()=>l(()=>import("./po-y5MdiEbo.js"),[])},{id:"polar",name:"Polar",import:()=>l(()=>import("./polar-Bsx6RkUC.js"),[])},{id:"postcss",name:"PostCSS",import:()=>l(()=>import("./postcss-CeUBPB2S.js"),[])},{id:"powerquery",name:"PowerQuery",import:()=>l(()=>import("./powerquery-CW27I574.js"),[])},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:()=>l(()=>import("./powershell-DSYJ6xcj.js"),[])},{id:"prisma",name:"Prisma",import:()=>l(()=>import("./prisma-CLoN-gBj.js"),[])},{id:"prolog",name:"Prolog",import:()=>l(()=>import("./prolog-Bgt5DHUA.js"),[])},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:()=>l(()=>import("./proto-C194Edqz.js"),[])},{id:"pug",name:"Pug",aliases:["jade"],import:()=>l(()=>import("./pug-zcj1uJy9.js"),__vite__mapDeps([73,2,3,1]))},{id:"puppet",name:"Puppet",import:()=>l(()=>import("./puppet-TSkl_nn0.js"),[])},{id:"purescript",name:"PureScript",import:()=>l(()=>import("./purescript-BrDje9qL.js"),[])},{id:"python",name:"Python",aliases:["py"],import:()=>l(()=>import("./python-DlV7vnVD.js"),[])},{id:"qml",name:"QML",import:()=>l(()=>import("./qml-DTv-54bL.js"),__vite__mapDeps([74,2]))},{id:"qmldir",name:"QML Directory",import:()=>l(()=>import("./qmldir-CSZk7E48.js"),[])},{id:"qss",name:"Qt Style Sheets",import:()=>l(()=>import("./qss-DACx-k9g.js"),[])},{id:"r",name:"R",import:()=>l(()=>import("./r-EOoB7omE.js"),[])},{id:"racket",name:"Racket",import:()=>l(()=>import("./racket-D1nq-KeH.js"),[])},{id:"raku",name:"Raku",aliases:["perl6"],import:()=>l(()=>import("./raku-DocPDKZq.js"),[])},{id:"razor",name:"ASP.NET Razor",import:()=>l(()=>import("./razor-BYJ7gYzI.js"),__vite__mapDeps([75,1,2,3,76]))},{id:"reg",name:"Windows Registry Script",import:()=>l(()=>import("./reg-5ydmJHEw.js"),[])},{id:"regexp",name:"RegExp",aliases:["regex"],import:()=>l(()=>import("./regexp-CpyjTnFF.js"),[])},{id:"rel",name:"Rel",import:()=>l(()=>import("./rel-D68lwU-3.js"),[])},{id:"riscv",name:"RISC-V",import:()=>l(()=>import("./riscv-Cl4WfXj6.js"),[])},{id:"rosmsg",name:"ROS Interface",import:()=>l(()=>import("./rosmsg-sf_0D22S.js"),[])},{id:"rst",name:"reStructuredText",import:()=>l(()=>import("./rst-DJoKdtV3.js"),__vite__mapDeps([77,15,1,2,3,23,24,25,26,16,20,28,38,78,33,34,7,8,35,11,36,13,37]))},{id:"ruby",name:"Ruby",aliases:["rb"],import:()=>l(()=>import("./ruby-DX9Eh9Jv.js"),__vite__mapDeps([33,1,2,3,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38]))},{id:"rust",name:"Rust",aliases:["rs"],import:()=>l(()=>import("./rust-DpWcZSqc.js"),[])},{id:"sas",name:"SAS",import:()=>l(()=>import("./sas-BBCK0tAG.js"),__vite__mapDeps([79,16]))},{id:"sass",name:"Sass",import:()=>l(()=>import("./sass-DY_rGA2-.js"),[])},{id:"scala",name:"Scala",import:()=>l(()=>import("./scala-CYRsmRER.js"),[])},{id:"scheme",name:"Scheme",import:()=>l(()=>import("./scheme-C45fPb3F.js"),[])},{id:"scss",name:"SCSS",import:()=>l(()=>import("./scss-CHxzYwli.js"),__vite__mapDeps([5,3]))},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:()=>l(()=>import("./sdbl-BpucmfEo.js"),[])},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:()=>l(()=>import("./shaderlab-DNyPh2Q6.js"),__vite__mapDeps([80,81]))},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:()=>l(()=>import("./shellscript-B8OHlvmy.js"),[])},{id:"shellsession",name:"Shell Session",aliases:["console"],import:()=>l(()=>import("./shellsession-OATBsyRD.js"),__vite__mapDeps([82,28]))},{id:"smalltalk",name:"Smalltalk",import:()=>l(()=>import("./smalltalk-CKvddXL8.js"),[])},{id:"solidity",name:"Solidity",import:()=>l(()=>import("./solidity-XfXaqt9k.js"),[])},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:()=>l(()=>import("./soy-Dz-Bkr4l.js"),__vite__mapDeps([83,1,2,3]))},{id:"sparql",name:"SPARQL",import:()=>l(()=>import("./sparql-CLNNOQQI.js"),__vite__mapDeps([84,85]))},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:()=>l(()=>import("./splunk-CFtInczE.js"),[])},{id:"sql",name:"SQL",import:()=>l(()=>import("./sql-BhJCBb_s.js"),[])},{id:"ssh-config",name:"SSH Config",import:()=>l(()=>import("./ssh-config-Dqsr-I88.js"),[])},{id:"stata",name:"Stata",import:()=>l(()=>import("./stata-G4GYNNPE.js"),__vite__mapDeps([86,16]))},{id:"stylus",name:"Stylus",aliases:["styl"],import:()=>l(()=>import("./stylus-BeJftkpb.js"),[])},{id:"svelte",name:"Svelte",import:()=>l(()=>import("./svelte-ChRP14-8.js"),__vite__mapDeps([87,2,11,3,12]))},{id:"swift",name:"Swift",import:()=>l(()=>import("./swift-dg2QTUdp.js"),[])},{id:"system-verilog",name:"SystemVerilog",import:()=>l(()=>import("./system-verilog-B3nElewZ.js"),[])},{id:"systemd",name:"Systemd Units",import:()=>l(()=>import("./systemd-B7SlkmfE.js"),[])},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:()=>l(()=>import("./talonscript-BrsbXmRy.js"),[])},{id:"tasl",name:"Tasl",import:()=>l(()=>import("./tasl-CMkPZNj1.js"),[])},{id:"tcl",name:"Tcl",import:()=>l(()=>import("./tcl-CiyEbZSK.js"),[])},{id:"templ",name:"Templ",import:()=>l(()=>import("./templ-BpwXGbW_.js"),__vite__mapDeps([88,89,2,3]))},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:()=>l(()=>import("./terraform-BUB-_BlF.js"),[])},{id:"tex",name:"TeX",import:()=>l(()=>import("./tex-C-BO_DSa.js"),__vite__mapDeps([64,62]))},{id:"toml",name:"TOML",import:()=>l(()=>import("./toml-VldhK7iW.js"),[])},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:()=>l(()=>import("./ts-tags-DAT_GLYZ.js"),__vite__mapDeps([90,11,3,2,25,26,1,16,7,8]))},{id:"tsv",name:"TSV",import:()=>l(()=>import("./tsv-BQ9ptESM.js"),[])},{id:"tsx",name:"TSX",import:()=>l(()=>import("./tsx-DYwE5ssU.js"),[])},{id:"turtle",name:"Turtle",import:()=>l(()=>import("./turtle-BVy4HXn4.js"),[])},{id:"twig",name:"Twig",import:()=>l(()=>import("./twig-C9hrCNMV.js"),__vite__mapDeps([91,3,2,5,72,1,7,8,16,9,20,33,34,35,11,36,13,23,24,25,26,28,37,38]))},{id:"typescript",name:"TypeScript",aliases:["ts","cts","mts"],import:()=>l(()=>import("./typescript-DI7mmMRd.js"),[])},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:()=>l(()=>import("./typespec-BNdhC6HS.js"),[])},{id:"typst",name:"Typst",aliases:["typ"],import:()=>l(()=>import("./typst-JIZTSUoJ.js"),[])},{id:"v",name:"V",import:()=>l(()=>import("./v-B66J5FdL.js"),[])},{id:"vala",name:"Vala",import:()=>l(()=>import("./vala-p2PL1w-1.js"),[])},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:()=>l(()=>import("./vb-Dv-GCw1m.js"),[])},{id:"verilog",name:"Verilog",import:()=>l(()=>import("./verilog-DKP7kpC6.js"),[])},{id:"vhdl",name:"VHDL",import:()=>l(()=>import("./vhdl-Cog-DhcW.js"),[])},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:()=>l(()=>import("./viml-0AN1aqkP.js"),[])},{id:"vue",name:"Vue",import:()=>l(()=>import("./vue-D3w_7BFv.js"),__vite__mapDeps([92,3,2,11,9,1,15]))},{id:"vue-html",name:"Vue HTML",import:()=>l(()=>import("./vue-html-a8uCr53v.js"),__vite__mapDeps([93,2]))},{id:"vue-vine",name:"Vue Vine",import:()=>l(()=>import("./vue-vine-2Gx6KHOr.js"),__vite__mapDeps([94,3,5,67,95,12,2]))},{id:"vyper",name:"Vyper",aliases:["vy"],import:()=>l(()=>import("./vyper-sB2l1MOO.js"),[])},{id:"wasm",name:"WebAssembly",import:()=>l(()=>import("./wasm-CSAWeJiV.js"),[])},{id:"wenyan",name:"Wenyan",aliases:["文言"],import:()=>l(()=>import("./wenyan-CLHHXU5e.js"),[])},{id:"wgsl",name:"WGSL",import:()=>l(()=>import("./wgsl-DiTcYanS.js"),[])},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:()=>l(()=>import("./wikitext-DT8E9qe0.js"),[])},{id:"wit",name:"WebAssembly Interface Types",import:()=>l(()=>import("./wit-CtjT-RdY.js"),[])},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:()=>l(()=>import("./wolfram-1xJNnwe2.js"),[])},{id:"xml",name:"XML",import:()=>l(()=>import("./xml-BsgRw6d1.js"),__vite__mapDeps([7,8]))},{id:"xsl",name:"XSL",import:()=>l(()=>import("./xsl-DCNnPbrB.js"),__vite__mapDeps([96,7,8]))},{id:"yaml",name:"YAML",aliases:["yml"],import:()=>l(()=>import("./yaml-c2-Vhxho.js"),[])},{id:"zenscript",name:"ZenScript",import:()=>l(()=>import("./zenscript-ChP1MlQf.js"),[])},{id:"zig",name:"Zig",import:()=>l(()=>import("./zig-rivS3YQG.js"),[])}],Lr={...Object.fromEntries(Ir.map(e=>[e.id,e.import])),...Object.fromEntries(Ir.flatMap(e=>e.aliases?.map(t=>[t,e.import])||[]))},Pr=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:()=>l(()=>import("./andromeeda-C-Jbm3Hp.js"),[])},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:()=>l(()=>import("./aurora-x-D-2ljcwZ.js"),[])},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:()=>l(()=>import("./ayu-dark-CmMr59Fi.js"),[])},{id:"catppuccin-frappe",displayName:"Catppuccin Frappé",type:"dark",import:()=>l(()=>import("./catppuccin-frappe-DFWUc33u.js"),[])},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:()=>l(()=>import("./catppuccin-latte-C9dUb6Cb.js"),[])},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:()=>l(()=>import("./catppuccin-macchiato-DQyhUUbL.js"),[])},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:()=>l(()=>import("./catppuccin-mocha-D87Tk5Gz.js"),[])},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:()=>l(()=>import("./dark-plus-C3mMm8J8.js"),[])},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:()=>l(()=>import("./dracula-BzJJZx-M.js"),[])},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:()=>l(()=>import("./dracula-soft-BXkSAIEj.js"),[])},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:()=>l(()=>import("./everforest-dark-BgDCqdQA.js"),[])},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:()=>l(()=>import("./everforest-light-C8M2exoo.js"),[])},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:()=>l(()=>import("./github-dark-DHJKELXO.js"),[])},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:()=>l(()=>import("./github-dark-default-Cuk6v7N8.js"),[])},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:()=>l(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[])},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:()=>l(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[])},{id:"github-light",displayName:"GitHub Light",type:"light",import:()=>l(()=>import("./github-light-DAi9KRSo.js"),[])},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:()=>l(()=>import("./github-light-default-D7oLnXFd.js"),[])},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:()=>l(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[])},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:()=>l(()=>import("./gruvbox-dark-hard-CFHQjOhq.js"),[])},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:()=>l(()=>import("./gruvbox-dark-medium-GsRaNv29.js"),[])},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:()=>l(()=>import("./gruvbox-dark-soft-CVdnzihN.js"),[])},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:()=>l(()=>import("./gruvbox-light-hard-CH1njM8p.js"),[])},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:()=>l(()=>import("./gruvbox-light-medium-DRw_LuNl.js"),[])},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:()=>l(()=>import("./gruvbox-light-soft-hJgmCMqR.js"),[])},{id:"houston",displayName:"Houston",type:"dark",import:()=>l(()=>import("./houston-DnULxvSX.js"),[])},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:()=>l(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[])},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:()=>l(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[])},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:()=>l(()=>import("./kanagawa-wave-DWedfzmr.js"),[])},{id:"laserwave",displayName:"LaserWave",type:"dark",import:()=>l(()=>import("./laserwave-DUszq2jm.js"),[])},{id:"light-plus",displayName:"Light Plus",type:"light",import:()=>l(()=>import("./light-plus-B7mTdjB0.js"),[])},{id:"material-theme",displayName:"Material Theme",type:"dark",import:()=>l(()=>import("./material-theme-D5KoaKCx.js"),[])},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:()=>l(()=>import("./material-theme-darker-BfHTSMKl.js"),[])},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:()=>l(()=>import("./material-theme-lighter-B0m2ddpp.js"),[])},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:()=>l(()=>import("./material-theme-ocean-CyktbL80.js"),[])},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:()=>l(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[])},{id:"min-dark",displayName:"Min Dark",type:"dark",import:()=>l(()=>import("./min-dark-CafNBF8u.js"),[])},{id:"min-light",displayName:"Min Light",type:"light",import:()=>l(()=>import("./min-light-CTRr51gU.js"),[])},{id:"monokai",displayName:"Monokai",type:"dark",import:()=>l(()=>import("./monokai-D4h5O-jR.js"),[])},{id:"night-owl",displayName:"Night Owl",type:"dark",import:()=>l(()=>import("./night-owl-C39BiMTA.js"),[])},{id:"nord",displayName:"Nord",type:"dark",import:()=>l(()=>import("./nord-Ddv68eIx.js"),[])},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:()=>l(()=>import("./one-dark-pro-DVMEJ2y_.js"),[])},{id:"one-light",displayName:"One Light",type:"light",import:()=>l(()=>import("./one-light-PoHY5YXO.js"),[])},{id:"plastic",displayName:"Plastic",type:"dark",import:()=>l(()=>import("./plastic-3e1v2bzS.js"),[])},{id:"poimandres",displayName:"Poimandres",type:"dark",import:()=>l(()=>import("./poimandres-CS3Unz2-.js"),[])},{id:"red",displayName:"Red",type:"dark",import:()=>l(()=>import("./red-bN70gL4F.js"),[])},{id:"rose-pine",displayName:"Rosé Pine",type:"dark",import:()=>l(()=>import("./rose-pine-qdsjHGoJ.js"),[])},{id:"rose-pine-dawn",displayName:"Rosé Pine Dawn",type:"light",import:()=>l(()=>import("./rose-pine-dawn-DHQR4-dF.js"),[])},{id:"rose-pine-moon",displayName:"Rosé Pine Moon",type:"dark",import:()=>l(()=>import("./rose-pine-moon-D4_iv3hh.js"),[])},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:()=>l(()=>import("./slack-dark-BthQWCQV.js"),[])},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:()=>l(()=>import("./slack-ochin-DqwNpetd.js"),[])},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:()=>l(()=>import("./snazzy-light-Bw305WKR.js"),[])},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:()=>l(()=>import("./solarized-dark-DXbdFlpD.js"),[])},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:()=>l(()=>import("./solarized-light-L9t79GZl.js"),[])},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:()=>l(()=>import("./synthwave-84-ChtBzv_y.js"),[])},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:()=>l(()=>import("./tokyo-night-hegEt444.js"),[])},{id:"vesper",displayName:"Vesper",type:"dark",import:()=>l(()=>import("./vesper-DU1UobuO.js"),[])},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:()=>l(()=>import("./vitesse-black-Bkuqu6BP.js"),[])},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:()=>l(()=>import("./vitesse-dark-D0r3Knsf.js"),[])},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:()=>l(()=>import("./vitesse-light-CVO1_9PV.js"),[])}],Sr=Object.fromEntries(Pr.map(e=>[e.id,e.import]));class Tr extends Error{constructor(e){super(e),this.name="ShikiError"}}function Rr(){return"undefined"!=typeof performance?performance.now():Date.now()}const xr=(e,t)=>e+(t-e%t)%t;async function vr(e){let t,r;const n={};function s(e){r=e,n.HEAPU8=new Uint8Array(e),n.HEAPU32=new Uint32Array(e)}function o(e){try{return t.grow(e-r.byteLength+65535>>>16),s(t.buffer),1}catch{}}const i="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function a(e,t){return e?function(e,t,r=1024){const n=t+r;let s=t;for(;e[s]&&!(s>=n);)++s;if(s-t>16&&e.buffer&&i)return i.decode(e.subarray(t,s));let o="";for(;t<s;){let r=e[t++];if(!(128&r)){o+=String.fromCharCode(r);continue}const n=63&e[t++];if(192==(224&r)){o+=String.fromCharCode((31&r)<<6|n);continue}const s=63&e[t++];if(r=224==(240&r)?(15&r)<<12|n<<6|s:(7&r)<<18|n<<12|s<<6|63&e[t++],r<65536)o+=String.fromCharCode(r);else{const e=r-65536;o+=String.fromCharCode(55296|e>>10,56320|1023&e)}}return o}(n.HEAPU8,e,t):""}const c={emscripten_get_now:Rr,emscripten_memcpy_big:function(e,t,r){n.HEAPU8.copyWithin(e,t,t+r)},emscripten_resize_heap:function(e){const t=n.HEAPU8.length,r=2147483648;if((e>>>=0)>r)return!1;for(let n=1;n<=4;n*=2){let s=t*(1+.2/n);s=Math.min(s,e+100663296);if(o(Math.min(r,xr(Math.max(e,s),65536))))return!0}return!1},fd_write:()=>0};return await async function(){const r={env:c,wasi_snapshot_preview1:c},o=await e(r);t=o.memory,s(t.buffer),Object.assign(n,o),n.UTF8ToString=a}(),n}var Or=Object.defineProperty,Nr=(e,t,r)=>((e,t,r)=>t in e?Or(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);let jr=null;class Dr{constructor(e){Nr(this,"utf16Length"),Nr(this,"utf8Length"),Nr(this,"utf16Value"),Nr(this,"utf8Value"),Nr(this,"utf16OffsetToUtf8"),Nr(this,"utf8OffsetToUtf16");const t=e.length,r=Dr._utf8ByteLength(e),n=r!==t,s=n?new Uint32Array(t+1):null;n&&(s[t]=r);const o=n?new Uint32Array(r+1):null;n&&(o[r]=t);const i=new Uint8Array(r);let a=0;for(let c=0;c<t;c++){const r=e.charCodeAt(c);let l=r,u=!1;if(r>=55296&&r<=56319&&c+1<t){const t=e.charCodeAt(c+1);t>=56320&&t<=57343&&(l=65536+(r-55296<<10)|t-56320,u=!0)}n&&(s[c]=a,u&&(s[c+1]=a),l<=127?o[a+0]=c:l<=2047?(o[a+0]=c,o[a+1]=c):l<=65535?(o[a+0]=c,o[a+1]=c,o[a+2]=c):(o[a+0]=c,o[a+1]=c,o[a+2]=c,o[a+3]=c)),l<=127?i[a++]=l:l<=2047?(i[a++]=192|(1984&l)>>>6,i[a++]=128|(63&l)>>>0):l<=65535?(i[a++]=224|(61440&l)>>>12,i[a++]=128|(4032&l)>>>6,i[a++]=128|(63&l)>>>0):(i[a++]=240|(1835008&l)>>>18,i[a++]=128|(258048&l)>>>12,i[a++]=128|(4032&l)>>>6,i[a++]=128|(63&l)>>>0),u&&c++}this.utf16Length=t,this.utf8Length=r,this.utf16Value=e,this.utf8Value=i,this.utf16OffsetToUtf8=s,this.utf8OffsetToUtf16=o}static _utf8ByteLength(e){let t=0;for(let r=0,n=e.length;r<n;r++){const s=e.charCodeAt(r);let o=s,i=!1;if(s>=55296&&s<=56319&&r+1<n){const t=e.charCodeAt(r+1);t>=56320&&t<=57343&&(o=65536+(s-55296<<10)|t-56320,i=!0)}t+=o<=127?1:o<=2047?2:o<=65535?3:4,i&&r++}return t}createString(e){const t=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,t),t}}const Vr=class e{constructor(t){if(Nr(this,"id",++e.LAST_ID),Nr(this,"_onigBinding"),Nr(this,"content"),Nr(this,"utf16Length"),Nr(this,"utf8Length"),Nr(this,"utf16OffsetToUtf8"),Nr(this,"utf8OffsetToUtf16"),Nr(this,"ptr"),!jr)throw new Tr("Must invoke loadWasm first.");this._onigBinding=jr,this.content=t;const r=new Dr(t);this.utf16Length=r.utf16Length,this.utf8Length=r.utf8Length,this.utf16OffsetToUtf8=r.utf16OffsetToUtf8,this.utf8OffsetToUtf16=r.utf8OffsetToUtf16,this.utf8Length<1e4&&!e._sharedPtrInUse?(e._sharedPtr||(e._sharedPtr=jr.omalloc(1e4)),e._sharedPtrInUse=!0,jr.HEAPU8.set(r.utf8Value,e._sharedPtr),this.ptr=e._sharedPtr):this.ptr=r.createString(jr)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===e._sharedPtr?e._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};Nr(Vr,"LAST_ID",0),Nr(Vr,"_sharedPtr",0),Nr(Vr,"_sharedPtrInUse",!1);let $r,Mr=Vr;class Gr{constructor(e){if(Nr(this,"_onigBinding"),Nr(this,"_ptr"),!jr)throw new Tr("Must invoke loadWasm first.");const t=[],r=[];for(let i=0,a=e.length;i<a;i++){const n=new Dr(e[i]);t[i]=n.createString(jr),r[i]=n.utf8Length}const n=jr.omalloc(4*e.length);jr.HEAPU32.set(t,n/4);const s=jr.omalloc(4*e.length);jr.HEAPU32.set(r,s/4);const o=jr.createOnigScanner(n,s,e.length);for(let i=0,a=e.length;i<a;i++)jr.ofree(t[i]);jr.ofree(s),jr.ofree(n),0===o&&function(e){throw new Tr(e.UTF8ToString(e.getLastOnigError()))}(jr),this._onigBinding=jr,this._ptr=o}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,t,r){let n=0;if("number"==typeof r&&(n=r),"string"==typeof e){e=new Mr(e);const r=this._findNextMatchSync(e,t,!1,n);return e.dispose(),r}return this._findNextMatchSync(e,t,!1,n)}_findNextMatchSync(e,t,r,n){const s=this._onigBinding,o=s.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t),n);if(0===o)return null;const i=s.HEAPU32;let a=o/4;const c=i[a++],l=i[a++],u=[];for(let p=0;p<l;p++){const t=e.convertUtf8OffsetToUtf16(i[a++]),r=e.convertUtf8OffsetToUtf16(i[a++]);u[p]={start:t,end:r,length:r-t}}return{index:c,captureIndices:u}}}function Br(e){if($r)return $r;return $r=async function(){jr=await vr(async t=>{let r=e;var n;return r=await r,"function"==typeof r&&(r=await r(t)),"function"==typeof r&&(r=await r(t)),"function"==typeof r.instantiator?r=await r.instantiator(t):!function(e){return"function"==typeof e.default}(r)?(function(e){return void 0!==e.data}(r)&&(r=r.data),!function(e){return"undefined"!=typeof Response&&e instanceof Response}(r)?!function(e){return"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))||"undefined"!=typeof Buffer&&Buffer.isBuffer?.(e)||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer||"undefined"!=typeof Uint32Array&&e instanceof Uint32Array}(r)?r instanceof WebAssembly.Module?r=await Fr(r)(t):"default"in r&&r.default instanceof WebAssembly.Module&&(r=await Fr(r.default)(t)):r=await Fr(r)(t):r="function"==typeof WebAssembly.instantiateStreaming?await(n=r,e=>WebAssembly.instantiateStreaming(n,e))(t):await function(e){return async t=>{const r=await e.arrayBuffer();return WebAssembly.instantiate(r,t)}}(r)(t)):r=await r.default(t),"instance"in r&&(r=r.instance),"exports"in r&&(r=r.exports),r})}(),$r}function Fr(e){return t=>WebAssembly.instantiate(e,t)}const Ur=Cr({langs:Lr,themes:Sr,engine:()=>async function(e){return e&&await Br(e),{createScanner:e=>new Gr(e.map(e=>"string"==typeof e?e:e.source)),createString:e=>new Mr(e)}}(l(()=>import("./wasm--yL7jHw-.js"),[]))});function Wr(e){if(1!==[...e].length)throw new Error(`Expected "${e}" to be a single code point`);return e.codePointAt(0)}const qr=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]),Hr=String.raw;function zr(e,t){if(null==e)throw new Error(t??"Value expected");return e}const Xr=Hr`\[\^?`,Qr=`c.? | C(?:-.?)?|${Hr`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${Hr`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${Hr`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${Hr`o\{[^\}]*\}?`}|${Hr`\d{1,3}`}`,Jr=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,Zr=new RegExp(Hr`
  \\ (?:
    ${Qr}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*[^\)]*\)?
  )?
  | (?:${Jr.source})+
  | ${Xr}
  | .
`.replace(/\s+/g,""),"gsu"),Kr=new RegExp(Hr`
  \\ (?:
    ${Qr}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${Xr}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function Yr(e,t={}){const r={flags:"",...t,rules:{captureGroup:!1,singleline:!1,...t.rules}};if("string"!=typeof e)throw new Error("String expected as pattern");const n=function(e){const t={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1,textSegmentMode:null};for(let r=0;r<e.length;r++){const n=e[r];if(!"imxDPSWy".includes(n))throw new Error(`Invalid flag "${n}"`);if("y"!==n)t[{i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"}[n]]=!0;else{if(!/^y{[gw]}/.test(e.slice(r)))throw new Error('Invalid or unspecified flag "y" mode');t.textSegmentMode="g"===e[r+2]?"grapheme":"word",r+=3}}return t}(r.flags),s=[n.extended],o={captureGroup:r.rules.captureGroup,getCurrentModX:()=>s.at(-1),numOpenGroups:0,popModX(){s.pop()},pushModX(e){s.push(e)},replaceCurrentModX(e){s[s.length-1]=e},singleline:r.rules.singleline};let i,a=[];for(Zr.lastIndex=0;i=Zr.exec(e);){const t=en(o,e,i[0],Zr.lastIndex);t.tokens?a.push(...t.tokens):t.token&&a.push(t.token),void 0!==t.lastIndex&&(Zr.lastIndex=t.lastIndex)}const c=[];let l=0;a.filter(e=>"GroupOpen"===e.type).forEach(e=>{"capturing"===e.kind?e.number=++l:"("===e.raw&&c.push(e)}),l||c.forEach((e,t)=>{e.kind="capturing",e.number=t+1});const u=l||c.length;return{tokens:a.map(e=>"EscapedNumber"===e.type?function(e,t){const{raw:r,inCharClass:n}=e,s=r.slice(1);if(!n&&("0"!==s&&1===s.length||"0"!==s[0]&&+s<=t))return[on(r)];const o=[],i=s.match(/^[0-7]+|\d/g);for(let a=0;a<i.length;a++){const e=i[a];let t;if(0===a&&"8"!==e&&"9"!==e){if(t=parseInt(e,8),t>127)throw new Error(Hr`Octal encoded byte above 177 unsupported "${r}"`)}else t=Wr(e);o.push(an(t,(0===a?"\\":"")+e))}return o}(e,u):e).flat(),flags:n}}function en(e,t,r,n){const[s,o]=r;if("["===r||"[^"===r){const e=function(e,t,r){const n=[ln("^"===t[1],t)];let s,o=1;for(Kr.lastIndex=r;s=Kr.exec(e);){const e=s[0];if("["===e[0]&&":"!==e[1])o++,n.push(ln("^"===e[1],e));else if("]"===e){if("CharacterClassOpen"===n.at(-1).type)n.push(an(93,e));else if(o--,n.push(cn(e)),!o)break}else{const t=tn(e);Array.isArray(t)?n.push(...t):n.push(t)}}return{tokens:n,lastIndex:Kr.lastIndex||e.length}}(t,r,n);return{tokens:e.tokens,lastIndex:e.lastIndex}}if("\\"===s){if("AbBGyYzZ".includes(o))return{token:sn(r,r)};if(/^\\g[<']/.test(r)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(r))throw new Error(`Invalid group name "${r}"`);return{token:mn(r)}}if(/^\\k[<']/.test(r)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(r))throw new Error(`Invalid group name "${r}"`);return{token:on(r)}}if("K"===o)return{token:pn("keep",r)};if("N"===o||"R"===o)return{token:un("newline",r,{negate:"N"===o})};if("O"===o)return{token:un("any",r)};if("X"===o)return{token:un("text_segment",r)};const e=rn(r,{inCharClass:!1});return Array.isArray(e)?{tokens:e}:{token:e}}if("("===s){if("*"===o)return{token:yn(r)};if("(?{"===r)throw new Error(`Unsupported callout "${r}"`);if(r.startsWith("(?#")){if(")"!==t[n])throw new Error('Unclosed comment group "(?#"');return{lastIndex:n+1}}if(/^\(\?[-imx]+[:)]$/.test(r))return{token:_n(r,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,"("===r&&!e.captureGroup||"(?:"===r)return{token:hn("group",r)};if("(?>"===r)return{token:hn("atomic",r)};if("(?="===r||"(?!"===r||"(?<="===r||"(?<!"===r)return{token:hn("<"===r[2]?"lookbehind":"lookahead",r,{negate:r.endsWith("!")})};if("("===r&&e.captureGroup||r.startsWith("(?<")&&r.endsWith(">")||r.startsWith("(?'")&&r.endsWith("'"))return{token:hn("capturing",r,{..."("!==r&&{name:r.slice(3,-1)}})};if(r.startsWith("(?~")){if("(?~|"===r)throw new Error(`Unsupported absence function kind "${r}"`);return{token:hn("absence_repeater",r)}}throw"(?("===r?new Error(`Unsupported conditional "${r}"`):new Error(`Invalid or unsupported group option "${r}"`)}if(")"===r){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw new Error('Unmatched ")"');return{token:dn(r)}}if(e.getCurrentModX()){if("#"===r){const e=t.indexOf("\n",n);return{lastIndex:-1===e?t.length:e}}if(/^\s$/.test(r)){const e=/\s+/y;return e.lastIndex=n,{lastIndex:e.exec(t)?e.lastIndex:n}}}if("."===r)return{token:un("dot",r)};if("^"===r||"$"===r){return{token:sn(e.singleline?{"^":Hr`\A`,$:Hr`\Z`}[r]:r,r)}}return"|"===r?{token:nn(r)}:Jr.test(r)?{tokens:wn(r)}:{token:an(Wr(r),r)}}function tn(e){if("\\"===e[0])return rn(e,{inCharClass:!0});if("["===e[0]){const t=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(e);if(!t||!qr.has(t.groups.name))throw new Error(`Invalid POSIX class "${e}"`);return un("posix",e,{value:t.groups.name,negate:!!t.groups.negate})}return"-"===e?function(e){return{type:"CharacterClassHyphen",raw:e}}(e):"&&"===e?function(e){return{type:"CharacterClassIntersector",raw:e}}(e):an(Wr(e),e)}function rn(e,{inCharClass:t}){const r=e[1];if("c"===r||"C"===r)return function(e){const t="c"===e[1]?e[2]:e[3];if(!t||!/[A-Za-z]/.test(t))throw new Error(`Unsupported control character "${e}"`);return an(Wr(t.toUpperCase())-64,e)}(e);if("dDhHsSwW".includes(r))return function(e){const t=e[1].toLowerCase();return un({d:"digit",h:"hex",s:"space",w:"word"}[t],e,{negate:e[1]!==t})}(e);if(e.startsWith(Hr`\o{`))throw new Error(`Incomplete, invalid, or unsupported octal code point "${e}"`);if(/^\\[pP]\{/.test(e)){if(3===e.length)throw new Error(`Incomplete or invalid Unicode property "${e}"`);return function(e){const{p:t,neg:r,value:n}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(e).groups;return un("property",e,{value:n,negate:"P"===t&&!r||"p"===t&&!!r})}(e)}if(new RegExp("^\\\\x[89A-Fa-f]\\p{AHex}","u").test(e))try{const t=e.split(/\\x/).slice(1).map(e=>parseInt(e,16)),r=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(t)),n=new TextEncoder;return[...r].map(e=>{const t=[...n.encode(e)].map(e=>`\\x${e.toString(16)}`).join("");return an(Wr(e),t)})}catch{throw new Error(`Multibyte code "${e}" incomplete or invalid in Oniguruma`)}if("u"===r||"x"===r)return an(function(e){if(new RegExp("^(?:\\\\u(?!\\p{AHex}{4})|\\\\x(?!\\p{AHex}{1,2}|\\{\\p{AHex}{1,8}\\}))","u").test(e))throw new Error(`Incomplete or invalid escape "${e}"`);const t="{"===e[2]?new RegExp("^\\\\x\\{\\s*(?<hex>\\p{AHex}+)","u").exec(e).groups.hex:e.slice(2);return parseInt(t,16)}(e),e);if(fn.has(r))return an(fn.get(r),e);if(/\d/.test(r))return function(e,t){return{type:"EscapedNumber",inCharClass:e,raw:t}}(t,e);if("\\"===e)throw new Error(Hr`Incomplete escape "\"`);if("M"===r)throw new Error(`Unsupported meta "${e}"`);if(2===[...e].length)return an(e.codePointAt(1),e);throw new Error(`Unexpected escape "${e}"`)}function nn(e){return{type:"Alternator",raw:e}}function sn(e,t){return{type:"Assertion",kind:e,raw:t}}function on(e){return{type:"Backreference",raw:e}}function an(e,t){return{type:"Character",value:e,raw:t}}function cn(e){return{type:"CharacterClassClose",raw:e}}function ln(e,t){return{type:"CharacterClassOpen",negate:e,raw:t}}function un(e,t,r={}){return{type:"CharacterSet",kind:e,...r,raw:t}}function pn(e,t,r={}){return"keep"===e?{type:"Directive",kind:e,raw:t}:{type:"Directive",kind:e,flags:zr(r.flags),raw:t}}function dn(e){return{type:"GroupClose",raw:e}}function hn(e,t,r={}){return{type:"GroupOpen",kind:e,...r,raw:t}}function mn(e){return{type:"Subroutine",raw:e}}const gn=new Set(["COUNT","CMP","ERROR","FAIL","MAX","MISMATCH","SKIP","TOTAL_COUNT"]),fn=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]);function _n(e,t){let{on:r,off:n}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(e).groups;n??="";const s=(t.getCurrentModX()||r.includes("x"))&&!n.includes("x"),o=bn(r),i=bn(n),a={};if(o&&(a.enable=o),i&&(a.disable=i),e.endsWith(")"))return t.replaceCurrentModX(s),pn("flags",e,{flags:a});if(e.endsWith(":"))return t.pushModX(s),t.numOpenGroups++,hn("group",e,{...(o||i)&&{flags:a}});throw new Error(`Unexpected flag modifier "${e}"`)}function yn(e){const t=/\(\*(?<name>[A-Za-z_]\w*)?(?:\[(?<tag>(?:[A-Za-z_]\w*)?)\])?(?:\{(?<args>[^}]*)\})?\)/.exec(e);if(!t)throw new Error(`Incomplete or invalid named callout "${e}"`);const{name:r,tag:n,args:s}=t.groups;if(!r)throw new Error(`Invalid named callout "${e}"`);if(""===n)throw new Error(`Named callout tag with empty value not allowed "${e}"`);const o=s?s.split(",").filter(e=>""!==e).map(e=>/^[+-]?\d+$/.test(e)?+e:e):[],[i,a,c]=o,l=gn.has(r)?r.toLowerCase():"custom";switch(l){case"fail":case"mismatch":case"skip":if(o.length>0)throw new Error(`Named callout arguments not allowed "${o}"`);break;case"error":if(o.length>1)throw new Error(`Named callout allows only one argument "${o}"`);if("string"==typeof i)throw new Error(`Named callout argument must be a number "${i}"`);break;case"max":if(!o.length||o.length>2)throw new Error(`Named callout must have one or two arguments "${o}"`);if("string"==typeof i&&!/^[A-Za-z_]\w*$/.test(i))throw new Error(`Named callout argument one must be a tag or number "${i}"`);if(2===o.length&&("number"==typeof a||!/^[<>X]$/.test(a)))throw new Error(`Named callout optional argument two must be '<', '>', or 'X' "${a}"`);break;case"count":case"total_count":if(o.length>1)throw new Error(`Named callout allows only one argument "${o}"`);if(1===o.length&&("number"==typeof i||!/^[<>X]$/.test(i)))throw new Error(`Named callout optional argument must be '<', '>', or 'X' "${i}"`);break;case"cmp":if(3!==o.length)throw new Error(`Named callout must have three arguments "${o}"`);if("string"==typeof i&&!/^[A-Za-z_]\w*$/.test(i))throw new Error(`Named callout argument one must be a tag or number "${i}"`);if("number"==typeof a||!/^(?:[<>!=]=|[<>])$/.test(a))throw new Error(`Named callout argument two must be '==', '!=', '>', '<', '>=', or '<=' "${a}"`);if("string"==typeof c&&!/^[A-Za-z_]\w*$/.test(c))throw new Error(`Named callout argument three must be a tag or number "${c}"`);break;case"custom":throw new Error(`Undefined callout name "${r}"`);default:throw new Error(`Unexpected named callout kind "${l}"`)}return function(e,t,r,n){return{type:"NamedCallout",kind:e,tag:t,arguments:r,raw:n}}(l,n??null,s?.split(",")??null,e)}function En(e){let t,r,n=null;if("{"===e[0]){const{minStr:s,maxStr:o}=/^\{(?<minStr>\d*)(?:,(?<maxStr>\d*))?/.exec(e).groups,i=1e5;if(+s>i||o&&+o>i)throw new Error("Quantifier value unsupported in Oniguruma");if(t=+s,r=void 0===o?+s:""===o?1/0:+o,t>r&&(n="possessive",[t,r]=[r,t]),e.endsWith("?")){if("possessive"===n)throw new Error('Unsupported possessive interval quantifier chain with "?"');n="lazy"}else n||(n="greedy")}else t="+"===e[0]?1:0,r="?"===e[0]?1:1/0,n="+"===e[1]?"possessive":"?"===e[1]?"lazy":"greedy";return function(e,t,r,n){return{type:"Quantifier",kind:e,min:t,max:r,raw:n}}(n,t,r,e)}function bn(e){const t={};return e.includes("i")&&(t.ignoreCase=!0),e.includes("m")&&(t.dotAll=!0),e.includes("x")&&(t.extended=!0),Object.keys(t).length?t:null}function wn(e){const t=[],r=new RegExp(Jr,"gy");let n;for(;n=r.exec(e);){const e=n[0];if("{"===e[0]){const n=/^\{(?<min>\d+),(?<max>\d+)\}\??$/.exec(e);if(n){const{min:s,max:o}=n.groups;if(+s>+o&&e.endsWith("?")){r.lastIndex--,t.push(En(e.slice(0,-1)));continue}}}t.push(En(e))}return t}function kn(e,t){if(!Array.isArray(e.body))throw new Error("Expected node with body array");if(1!==e.body.length)return!1;const r=e.body[0];return!t||Object.keys(t).every(e=>t[e]===r[e])}const An=new Set(["AbsenceFunction","Backreference","CapturingGroup","Character","CharacterClass","CharacterSet","Group","Quantifier","Subroutine"]);function Cn(e,t={}){const r={flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t,rules:{captureGroup:!1,singleline:!1,...t.rules}},n=Yr(e,{flags:r.flags,rules:{captureGroup:r.rules.captureGroup,singleline:r.rules.singleline}}),s=(e,t)=>{const r=n.tokens[o.nextIndex];switch(o.parent=e,o.nextIndex++,r.type){case"Alternator":return In();case"Assertion":return function({kind:e}){return Ln(zr({"^":"line_start",$:"line_end","\\A":"string_start","\\b":"word_boundary","\\B":"word_boundary","\\G":"search_start","\\y":"text_segment_boundary","\\Y":"text_segment_boundary","\\z":"string_end","\\Z":"string_end_newline"}[e],`Unexpected assertion kind "${e}"`),{negate:e===Hr`\B`||e===Hr`\Y`})}(r);case"Backreference":return function({raw:e},t){const r=/^\\k[<']/.test(e),n=r?e.slice(3,-1):e.slice(1),s=(r,n=!1)=>{const s=t.capturingGroups.length;let o=!1;if(r>s){if(!t.skipBackrefValidation)throw new Error(`Not enough capturing groups defined to the left "${e}"`);o=!0}return t.hasNumberedRef=!0,Pn(n?s+1-r:r,{orphan:o})};if(r){const r=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(n);if(r)return s(+r.groups.num,!!r.groups.sign);if(/[-+]/.test(n))throw new Error(`Invalid backref name "${e}"`);if(!t.namedGroupsByName.has(n))throw new Error(`Group name not defined to the left "${e}"`);return Pn(n)}return s(+n)}(r,o);case"Character":return Tn(r.value,{useLastValid:!!t.isCheckingRangeEnd});case"CharacterClassHyphen":return function(e,t,r){const{tokens:n,walk:s}=t,o=t.parent,i=o.body.at(-1),a=n[t.nextIndex];if(!r.isCheckingRangeEnd&&i&&"CharacterClass"!==i.type&&"CharacterClassRange"!==i.type&&a&&"CharacterClassOpen"!==a.type&&"CharacterClassClose"!==a.type&&"CharacterClassIntersector"!==a.type){const e=s(o,{...r,isCheckingRangeEnd:!0});if("Character"===i.type&&"Character"===e.type)return o.body.pop(),function(e,t){if(t.value<e.value)throw new Error("Character class range out of order");return{type:"CharacterClassRange",min:e,max:t}}(i,e);throw new Error("Invalid character class range")}return Tn(Wr("-"))}(0,o,t);case"CharacterClassOpen":return function({negate:e},t,r){const{tokens:n,walk:s}=t,o=n[t.nextIndex],i=[Rn()];let a=Fn(o);for(;"CharacterClassClose"!==a.type;){if("CharacterClassIntersector"===a.type)i.push(Rn()),t.nextIndex++;else{const e=i.at(-1);e.body.push(s(e,r))}a=Fn(n[t.nextIndex],o)}const c=Rn({negate:e});return 1===i.length?c.body=i[0].body:(c.kind="intersection",c.body=i.map(e=>1===e.body.length?e.body[0]:e)),t.nextIndex++,c}(r,o,t);case"CharacterSet":return function({kind:e,negate:t,value:r},n){const{normalizeUnknownPropertyNames:s,skipPropertyNameValidation:o,unicodePropertyMap:i}=n;if("property"===e){const n=Bn(r);if(!qr.has(n)||i?.has(n))return Dn(r,{negate:t,normalizeUnknownPropertyNames:s,skipPropertyNameValidation:o,unicodePropertyMap:i});e="posix",r=n}return"posix"===e?function(e,t){const r=!!t?.negate;if(!qr.has(e))throw new Error(`Invalid POSIX class "${e}"`);return{type:"CharacterSet",kind:"posix",value:e,negate:r}}(r,{negate:t}):xn(e,{negate:t})}(r,o);case"Directive":return function(e,t={}){if("keep"===e)return{type:"Directive",kind:e};if("flags"===e)return{type:"Directive",kind:e,flags:zr(t.flags)};throw new Error(`Unexpected directive kind "${e}"`)}(r.kind,{flags:r.flags});case"GroupOpen":return function(e,t,r){const{tokens:n,capturingGroups:s,namedGroupsByName:o,skipLookbehindValidation:i,walk:a}=t,c=function({flags:e,kind:t,name:r,negate:n,number:s}){switch(t){case"absence_repeater":return function(e,t){return{type:"AbsenceFunction",kind:e,body:Vn(t?.body)}}("repeater");case"atomic":return vn({atomic:!0});case"capturing":return Sn(s,{name:r});case"group":return vn({flags:e});case"lookahead":case"lookbehind":return On({behind:"lookbehind"===t,negate:n});default:throw new Error(`Unexpected group kind "${t}"`)}}(e),l="AbsenceFunction"===c.type,u=Gn(c),p=u&&c.negate;if("CapturingGroup"===c.type&&(s.push(c),c.name&&function(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}(o,c.name,[]).push(c)),l&&r.isInAbsenceFunction)throw new Error("Nested absence function not supported by Oniguruma");let d=Un(n[t.nextIndex]);for(;"GroupClose"!==d.type;){if("Alternator"===d.type)c.body.push(In()),t.nextIndex++;else{const e=c.body.at(-1),t=a(e,{...r,isInAbsenceFunction:r.isInAbsenceFunction||l,isInLookbehind:r.isInLookbehind||u,isInNegLookbehind:r.isInNegLookbehind||p});if(e.body.push(t),(u||r.isInLookbehind)&&!i){const e="Lookbehind includes a pattern not allowed by Oniguruma";if(p||r.isInNegLookbehind){if(Mn(t)||"CapturingGroup"===t.type)throw new Error(e)}else if(Mn(t)||Gn(t)&&t.negate)throw new Error(e)}}d=Un(n[t.nextIndex])}return t.nextIndex++,c}(r,o,t);case"NamedCallout":return function(e,t,r){return{type:"NamedCallout",kind:e,tag:t,arguments:r}}(r.kind,r.tag,r.arguments);case"Quantifier":return function({kind:e,min:t,max:r},n){const s=n.parent,o=s.body.at(-1);if(!o||!function(e){return An.has(e.type)}(o))throw new Error("Quantifier requires a repeatable token");const i=Nn(e,t,r,o);return s.body.pop(),i}(r,o);case"Subroutine":return function({raw:e},t){const{capturingGroups:r,subroutines:n}=t;let s=e.slice(3,-1);const o=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(s);if(o){const e=+o.groups.num,n=r.length;if(t.hasNumberedRef=!0,s={"":e,"+":n+e,"-":n+1-e}[o.groups.sign],s<1)throw new Error("Invalid subroutine number")}else"0"===s&&(s=0);const i=jn(s);return n.push(i),i}(r,o);default:throw new Error(`Unexpected token type "${r.type}"`)}},o={capturingGroups:[],hasNumberedRef:!1,namedGroupsByName:new Map,nextIndex:0,normalizeUnknownPropertyNames:r.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:r.skipBackrefValidation,skipLookbehindValidation:r.skipLookbehindValidation,skipPropertyNameValidation:r.skipPropertyNameValidation,subroutines:[],tokens:n.tokens,unicodePropertyMap:r.unicodePropertyMap,walk:s},i=function(e,t){return{type:"Regex",body:Vn(t?.body),flags:e}}(function(e){return{type:"Flags",...e}}(n.flags));let a=i.body[0];for(;o.nextIndex<n.tokens.length;){const e=s(a,{});"Alternative"===e.type?(i.body.push(e),a=e):a.body.push(e)}const{capturingGroups:c,hasNumberedRef:l,namedGroupsByName:u,subroutines:p}=o;if(l&&u.size&&!r.rules.captureGroup)throw new Error("Numbered backref/subroutine not allowed when using named capture");for(const{ref:d}of p)if("number"==typeof d){if(d>c.length)throw new Error("Subroutine uses a group number that's not defined");d&&(c[d-1].isSubroutined=!0)}else{if(!u.has(d))throw new Error(Hr`Subroutine uses a group name that's not defined "\g<${d}>"`);if(u.get(d).length>1)throw new Error(Hr`Subroutine uses a duplicate group name "\g<${d}>"`);u.get(d)[0].isSubroutined=!0}return i}function In(e){return{type:"Alternative",body:$n(e?.body)}}function Ln(e,t){const r={type:"Assertion",kind:e};return("word_boundary"===e||"text_segment_boundary"===e)&&(r.negate=!!t?.negate),r}function Pn(e,t){const r=!!t?.orphan;return{type:"Backreference",ref:e,...r&&{orphan:r}}}function Sn(e,t){const r={name:void 0,isSubroutined:!1,...t};if(void 0!==r.name&&!function(e){return/^[\p{Alpha}\p{Pc}][^)]*$/u.test(e)}(r.name))throw new Error(`Group name "${r.name}" invalid in Oniguruma`);return{type:"CapturingGroup",number:e,...r.name&&{name:r.name},...r.isSubroutined&&{isSubroutined:r.isSubroutined},body:Vn(t?.body)}}function Tn(e,t){const r={useLastValid:!1,...t};if(e>1114111){const t=e.toString(16);if(!r.useLastValid)throw e>1310719?new Error(`Invalid code point out of range "\\x{${t}}"`):new Error(`Invalid code point out of range in JS "\\x{${t}}"`);e=1114111}return{type:"Character",value:e}}function Rn(e){const t={kind:"union",negate:!1,...e};return{type:"CharacterClass",kind:t.kind,negate:t.negate,body:$n(e?.body)}}function xn(e,t){const r=!!t?.negate,n={type:"CharacterSet",kind:e};return("digit"===e||"hex"===e||"newline"===e||"space"===e||"word"===e)&&(n.negate=r),("text_segment"===e||"newline"===e&&!r)&&(n.variableLength=!0),n}function vn(e){const t=e?.atomic,r=e?.flags;if(t&&r)throw new Error("Atomic group cannot have flags");return{type:"Group",...t&&{atomic:t},...r&&{flags:r},body:Vn(e?.body)}}function On(e){const t={behind:!1,negate:!1,...e};return{type:"LookaroundAssertion",kind:t.behind?"lookbehind":"lookahead",negate:t.negate,body:Vn(e?.body)}}function Nn(e,t,r,n){if(t>r)throw new Error("Invalid reversed quantifier range");return{type:"Quantifier",kind:e,min:t,max:r,body:n}}function jn(e){return{type:"Subroutine",ref:e}}function Dn(e,t){const r={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t};let n=r.unicodePropertyMap?.get(Bn(e));if(!n)if(r.normalizeUnknownPropertyNames)n=function(e){return e.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,e=>e[0].toUpperCase()+e.slice(1).toLowerCase())}(e);else if(r.unicodePropertyMap&&!r.skipPropertyNameValidation)throw new Error(Hr`Invalid Unicode property "\p{${e}}"`);return{type:"CharacterSet",kind:"property",value:n??e,negate:r.negate}}function Vn(e){if(void 0===e)e=[In()];else if(!Array.isArray(e)||!e.length||!e.every(e=>"Alternative"===e.type))throw new Error("Invalid body; expected array of one or more Alternative nodes");return e}function $n(e){if(void 0===e)e=[];else if(!Array.isArray(e)||!e.every(e=>!!e.type))throw new Error("Invalid body; expected array of nodes");return e}function Mn(e){return"LookaroundAssertion"===e.type&&"lookahead"===e.kind}function Gn(e){return"LookaroundAssertion"===e.type&&"lookbehind"===e.kind}function Bn(e){return e.replace(/[- _]+/g,"").toLowerCase()}function Fn(e,t){return zr(e,("Character"===t?.type&&93===t.value?"Empty":"Unclosed")+" character class")}function Un(e){return zr(e,"Unclosed group")}function Wn(e,t,r=null){function n(e,t){for(let r=0;r<e.length;r++){const n=s(e[r],t,r,e);r=Math.max(-1,r+n)}}function s(o,i=null,a=null,c=null){let l=0,u=!1;const p={node:o,parent:i,key:a,container:c,root:e,remove(){qn(c).splice(Math.max(0,Hn(a)+l),1),l--,u=!0},removeAllNextSiblings:()=>qn(c).splice(Hn(a)+1),removeAllPrevSiblings(){const e=Hn(a)+l;return l-=e,qn(c).splice(0,Math.max(0,e))},replaceWith(e,t={}){const r=!!t.traverse;c?c[Math.max(0,Hn(a)+l)]=e:zr(i,"Can't replace root node")[a]=e,r&&s(e,i,a,c),u=!0},replaceWithMultiple(e,t={}){const r=!!t.traverse;if(qn(c).splice(Math.max(0,Hn(a)+l),1,...e),l+=e.length-1,r){let t=0;for(let r=0;r<e.length;r++)t+=s(e[r],i,Hn(a)+r+t,c)}u=!0},skip(){u=!0}},{type:d}=o,h=t["*"],m=t[d],g="function"==typeof h?h:h?.enter,f="function"==typeof m?m:m?.enter;if(g?.(p,r),f?.(p,r),!u)switch(d){case"AbsenceFunction":case"CapturingGroup":case"Group":case"Alternative":case"CharacterClass":case"LookaroundAssertion":n(o.body,o);break;case"Assertion":case"Backreference":case"Character":case"CharacterSet":case"Directive":case"Flags":case"NamedCallout":case"Subroutine":break;case"CharacterClassRange":s(o.min,o,"min"),s(o.max,o,"max");break;case"Quantifier":s(o.body,o,"body");break;case"Regex":n(o.body,o),s(o.flags,o,"flags");break;default:throw new Error(`Unexpected node type "${d}"`)}return m?.exit?.(p,r),h?.exit?.(p,r),l}return s(e),e}function qn(e){if(!Array.isArray(e))throw new Error("Container expected");return e}function Hn(e){if("number"!=typeof e)throw new Error("Numeric key expected");return e}const zn=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function Xn(e,t){for(let r=0;r<e.length;r++)e[r]>=t&&e[r]++}function Qn(e,t,r,n){return e.slice(0,t)+n+e.slice(t+r.length)}const Jn=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function Zn(e,t,r,n){const s=new RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,"gsu"),o=[!1];let i=0,a="";for(const c of e.matchAll(s)){const{0:e,groups:{$skip:t}}=c;t||n&&n===Jn.DEFAULT!=!i?("["===e[0]?(i++,o.push("^"===e[1])):"]"===e&&i&&(i--,o.pop()),a+=e):a+=r instanceof Function?r(c,{context:i?Jn.CHAR_CLASS:Jn.DEFAULT,negated:o[o.length-1]}):r}return a}function Kn(e,t,r,n){Zn(e,t,r,n)}function Yn(e,t,r){return!!function(e,t,r=0,n){if(!new RegExp(t,"su").test(e))return null;const s=new RegExp(`${t}|(?<$skip>\\\\?.)`,"gsu");s.lastIndex=r;let o,i=0;for(;o=s.exec(e);){const{0:e,groups:{$skip:t}}=o;if(!(t||n&&n===Jn.DEFAULT!=!i))return o;"["===e?i++:"]"===e&&i&&i--,s.lastIndex==o.index&&s.lastIndex++}return null}(e,t,0,r)}function es(e,t){const r=/\\?./gsu;r.lastIndex=t;let n,s=e.length,o=0,i=1;for(;n=r.exec(e);){const[e]=n;if("["===e)o++;else if(o)"]"===e&&o--;else if("("===e)i++;else if(")"===e&&(i--,!i)){s=n.index;break}}return e.slice(t,s)}const ts=new RegExp(String.raw`(?<noncapturingStart>${zn})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu");const rs=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,ns=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${rs})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu");const ss=String.raw,os=ss`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,is=ss`\(\?R=(?<rDepth>[^\)]+)\)|${os}`,as=ss`\(\?<(?![=!])(?<captureName>[^>]+)>`,cs=ss`${as}|(?<unnamed>\()(?!\?)`,ls=new RegExp(ss`${as}|${is}|\(\?|\\?.`,"gsu"),us="Cannot use multiple overlapping recursions";function ps(e){const t=`Max depth must be integer between 2 and 100; used ${e}`;if(!/^[1-9]\d*$/.test(e))throw new Error(t);if((e=+e)<2||e>100)throw new Error(t)}function ds(e,t,r,n,s,o,i){const a=new Set;n&&Kn(e+t,as,({groups:{captureName:e}})=>{a.add(e)},Jn.DEFAULT);const c=[r,n?a:null,s,o,i];return`${e}${hs(`(?:${e}`,"forward",...c)}(?:)${hs(`${t})`,"backward",...c)}${t}`}function hs(e,t,r,n,s,o,i){const a=e=>"forward"===t?e+2:r-e+2-1;let c="";for(let l=0;l<r;l++){const t=a(l);c+=Zn(e,ss`${cs}|\\k<(?<backref>[^>]+)>`,({0:e,groups:{captureName:r,unnamed:a,backref:c}})=>{if(c&&n&&!n.has(c))return e;const l=`_$${t}`;if(a||r){const t=i+o.length+1;return o.push(t),ms(s,t),a?e:`(?<${r}${l}>`}return ss`\k<${c}${l}>`},Jn.DEFAULT)}return c}function ms(e,t){for(let r=0;r<e.length;r++)e[r]>=t&&e[r]++}function gs(e,t,r,n,s,o){if(e.size&&n){let i=0;Kn(t,cs,()=>i++,Jn.DEFAULT);const a=o-i+s,c=new Map;return e.forEach((e,t)=>{const s=(n-i*r)/r,o=i*r,l=t>a+i?t+n:t,u=[];for(const c of e)if(c<=a)u.push(c);else if(c>a+i+s)u.push(c+n);else if(c<=a+i)for(let e=0;e<=r;e++)u.push(c+i*e);else for(let e=0;e<=r;e++)u.push(c+o+s*e);c.set(l,u)}),c}return e}var fs=String.fromCodePoint,_s=String.raw,ys={flagGroups:(()=>{try{new RegExp("(?i:)")}catch{return!1}return!0})(),unicodeSets:(()=>{try{new RegExp("[[]]","v")}catch{return!1}return!0})()};function Es(e,{enable:t,disable:r}){return{dotAll:!(r?.dotAll||!t?.dotAll&&!e.dotAll),ignoreCase:!(r?.ignoreCase||!t?.ignoreCase&&!e.ignoreCase)}}function bs(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}function ws(e,t){return ks[e]>=ks[t]}ys.bugFlagVLiteralHyphenIsRange=!!ys.unicodeSets&&(()=>{try{new RegExp(_s`[\d\-a]`,"v")}catch{return!0}return!1})(),ys.bugNestedClassIgnoresNegation=ys.unicodeSets&&new RegExp("[[^a]]","v").test("a");var ks={ES2025:2025,ES2024:2024,ES2018:2018},As={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function Cs(e={}){if("[object Object]"!=={}.toString.call(e))throw new Error("Unexpected options");if(void 0!==e.target&&!As[e.target])throw new Error(`Unexpected target "${e.target}"`);const t={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1,...e,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...e.rules}};return"auto"===t.target&&(t.target=ys.flagGroups?"ES2025":ys.unicodeSets?"ES2024":"ES2018"),t}var Is=new Set([fs(304),fs(305)]),Ls=_s`[\p{L}\p{M}\p{N}\p{Pc}]`;function Ps(e){if(Is.has(e))return[e];const t=new Set,r=e.toLowerCase(),n=r.toUpperCase(),s=xs.get(r),o=Ts.get(r),i=Rs.get(r);return 1===[...n].length&&t.add(n),i&&t.add(i),s&&t.add(s),t.add(r),o&&t.add(o),[...t]}var Ss=new Map("C Other\nCc Control cntrl\nCf Format\nCn Unassigned\nCo Private_Use\nCs Surrogate\nL Letter\nLC Cased_Letter\nLl Lowercase_Letter\nLm Modifier_Letter\nLo Other_Letter\nLt Titlecase_Letter\nLu Uppercase_Letter\nM Mark Combining_Mark\nMc Spacing_Mark\nMe Enclosing_Mark\nMn Nonspacing_Mark\nN Number\nNd Decimal_Number digit\nNl Letter_Number\nNo Other_Number\nP Punctuation punct\nPc Connector_Punctuation\nPd Dash_Punctuation\nPe Close_Punctuation\nPf Final_Punctuation\nPi Initial_Punctuation\nPo Other_Punctuation\nPs Open_Punctuation\nS Symbol\nSc Currency_Symbol\nSk Modifier_Symbol\nSm Math_Symbol\nSo Other_Symbol\nZ Separator\nZl Line_Separator\nZp Paragraph_Separator\nZs Space_Separator\nASCII\nASCII_Hex_Digit AHex\nAlphabetic Alpha\nAny\nAssigned\nBidi_Control Bidi_C\nBidi_Mirrored Bidi_M\nCase_Ignorable CI\nCased\nChanges_When_Casefolded CWCF\nChanges_When_Casemapped CWCM\nChanges_When_Lowercased CWL\nChanges_When_NFKC_Casefolded CWKCF\nChanges_When_Titlecased CWT\nChanges_When_Uppercased CWU\nDash\nDefault_Ignorable_Code_Point DI\nDeprecated Dep\nDiacritic Dia\nEmoji\nEmoji_Component EComp\nEmoji_Modifier EMod\nEmoji_Modifier_Base EBase\nEmoji_Presentation EPres\nExtended_Pictographic ExtPict\nExtender Ext\nGrapheme_Base Gr_Base\nGrapheme_Extend Gr_Ext\nHex_Digit Hex\nIDS_Binary_Operator IDSB\nIDS_Trinary_Operator IDST\nID_Continue IDC\nID_Start IDS\nIdeographic Ideo\nJoin_Control Join_C\nLogical_Order_Exception LOE\nLowercase Lower\nMath\nNoncharacter_Code_Point NChar\nPattern_Syntax Pat_Syn\nPattern_White_Space Pat_WS\nQuotation_Mark QMark\nRadical\nRegional_Indicator RI\nSentence_Terminal STerm\nSoft_Dotted SD\nTerminal_Punctuation Term\nUnified_Ideograph UIdeo\nUppercase Upper\nVariation_Selector VS\nWhite_Space space\nXID_Continue XIDC\nXID_Start XIDS".split(/\s/).map(e=>[Bn(e),e])),Ts=new Map([["s",fs(383)],[fs(383),"s"]]),Rs=new Map([[fs(223),fs(7838)],[fs(107),fs(8490)],[fs(229),fs(8491)],[fs(969),fs(8486)]]),xs=new Map([Os(453),Os(456),Os(459),Os(498),...Ns(8072,8079),...Ns(8088,8095),...Ns(8104,8111),Os(8124),Os(8140),Os(8188)]),vs=new Map([["alnum",_s`[\p{Alpha}\p{Nd}]`],["alpha",_s`\p{Alpha}`],["ascii",_s`\p{ASCII}`],["blank",_s`[\p{Zs}\t]`],["cntrl",_s`\p{Cc}`],["digit",_s`\p{Nd}`],["graph",_s`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],["lower",_s`\p{Lower}`],["print",_s`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",_s`[\p{P}\p{S}]`],["space",_s`\p{space}`],["upper",_s`\p{Upper}`],["word",_s`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",_s`\p{AHex}`]]);function Os(e){const t=fs(e);return[t.toLowerCase(),t]}function Ns(e,t){return function(e,t){const r=[];for(let n=e;n<=t;n++)r.push(n);return r}(e,t).map(e=>Os(e))}var js=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]);var Ds={AbsenceFunction({node:e,parent:t,replaceWith:r}){const{body:n,kind:s}=e;if("repeater"!==s)throw new Error('Unsupported absence function "(?~|"');{const e=vn();e.body[0].body.push(On({negate:!0,body:n}),Dn("Any"));const s=vn();s.body[0].body.push(Nn("greedy",0,1/0,e)),r(Ks(s,t),{traverse:!0})}},Alternative:{enter({node:e,parent:t,key:r},{flagDirectivesByAlt:n}){const s=e.body.filter(e=>"flags"===e.kind);for(let o=r+1;o<t.body.length;o++){bs(n,t.body[o],[]).push(...s)}},exit({node:e},{flagDirectivesByAlt:t}){if(t.get(e)?.length){const r=Us(t.get(e));if(r){const t=vn({flags:r});t.body[0].body=e.body,e.body=[Ks(t,e)]}}}},Assertion({node:e,parent:t,key:r,container:n,root:s,remove:o,replaceWith:i},a){const{kind:c,negate:l}=e,{asciiWordBoundaries:u,avoidSubclass:p,supportedGNodes:d,wordIsAscii:h}=a;if("text_segment_boundary"===c)throw new Error(`Unsupported text segment boundary "\\${l?"Y":"y"}"`);if("line_end"===c)i(Ks(On({body:[In({body:[Ln("string_end")]}),In({body:[Tn(10)]})]}),t));else if("line_start"===c)i(Ks(Qs(_s`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}),t));else if("search_start"===c)if(d.has(e))s.flags.sticky=!0,o();else{const e=n[r-1];if(e&&function(e){const t=["Character","CharacterClass","CharacterSet"];return t.includes(e.type)||"Quantifier"===e.type&&e.min&&t.includes(e.body.type)}(e))i(Ks(On({negate:!0}),t));else{if(p)throw new Error(_s`Uses "\G" in a way that requires a subclass`);i(Zs(Ln("string_start"),t)),a.strategy="clip_search"}}else if("string_end"===c||"string_start"===c);else if("string_end_newline"===c)i(Ks(Qs(_s`(?=\n?\z)`),t));else{if("word_boundary"!==c)throw new Error(`Unexpected assertion kind "${c}"`);if(!h&&!u){i(Ks(Qs(l?`(?:(?<=${Ls})(?=${Ls})|(?<!${Ls})(?!${Ls}))`:`(?:(?<=${Ls})(?!${Ls})|(?<!${Ls})(?=${Ls}))`),t))}}},Backreference({node:e},{jsGroupNameMap:t}){let{ref:r}=e;"string"!=typeof r||Xs(r)||(r=Fs(r,t),e.ref=r)},CapturingGroup({node:e},{jsGroupNameMap:t,subroutineRefMap:r}){let{name:n}=e;n&&!Xs(n)&&(n=Fs(n,t),e.name=n),r.set(e.number,e),n&&r.set(n,e)},CharacterClassRange({node:e,parent:t,replaceWith:r}){if("intersection"===t.kind){r(Ks(Rn({body:[e]}),t),{traverse:!0})}},CharacterSet({node:e,parent:t,replaceWith:r},{accuracy:n,minTargetEs2024:s,digitIsAscii:o,spaceIsAscii:i,wordIsAscii:a}){const{kind:c,negate:l,value:u}=e;if(!o||"digit"!==c&&"digit"!==u)if(!i||"space"!==c&&"space"!==u)if(!a||"word"!==c&&"word"!==u)if("any"===c)r(Zs(Dn("Any"),t));else if("digit"===c)r(Zs(Dn("Nd",{negate:l}),t));else if("dot"===c);else if("text_segment"===c){if("strict"===n)throw new Error(_s`Use of "\X" requires non-strict accuracy`);const e="\\p{Emoji}(?:\\p{EMod}|\\uFE0F\\u20E3?|[\\x{E0020}-\\x{E007E}]+\\x{E007F})?",o=_s`\p{RI}{2}|${e}(?:\u200D${e})*`;r(Ks(Qs(_s`(?>\r\n|${s?_s`\p{RGI_Emoji}`:o}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}),t))}else if("hex"===c)r(Zs(Dn("AHex",{negate:l}),t));else if("newline"===c)r(Ks(Qs(l?"[^\n]":"(?>\r\n?|[\n\v\f\u2028\u2029])"),t));else if("posix"===c)if(s||"graph"!==u&&"print"!==u)r(Ks(Js(Qs(vs.get(u)),l),t));else{if("strict"===n)throw new Error(`POSIX class "${u}" requires min target ES2024 or non-strict accuracy`);let e={graph:"!-~",print:" -~"}[u];l&&(e=`\0-${fs(e.codePointAt(0)-1)}${fs(e.codePointAt(2)+1)}-􏿿`),r(Ks(Qs(`[${e}]`),t))}else if("property"===c)Ss.has(Bn(u))||(e.key="sc");else if("space"===c)r(Zs(Dn("space",{negate:l}),t));else{if("word"!==c)throw new Error(`Unexpected character set kind "${c}"`);r(Ks(Js(Qs(Ls),l),t))}else r(Zs(xn("word",{negate:l}),t));else r(Ks(Js(Qs("[\t-\r ]"),l),t));else r(Zs(xn("digit",{negate:l}),t))},Directive({node:e,parent:t,root:r,remove:n,replaceWith:s,removeAllPrevSiblings:o,removeAllNextSiblings:i}){const{kind:a,flags:c}=e;if("flags"===a)if(c.enable||c.disable){const e=vn({flags:c});e.body[0].body=i(),s(Ks(e,t),{traverse:!0})}else n();else{if("keep"!==a)throw new Error(`Unexpected directive kind "${a}"`);{const e=r.body[0],n=1===r.body.length&&kn(e,{type:"Group"})&&1===e.body[0].body.length?e.body[0]:r;if(t.parent!==n||n.body.length>1)throw new Error(_s`Uses "\K" in a way that's unsupported`);const i=On({behind:!0});i.body[0].body=o(),s(Ks(i,t))}}},Flags({node:e,parent:t}){if(e.posixIsAscii)throw new Error('Unsupported flag "P"');if("word"===e.textSegmentMode)throw new Error('Unsupported flag "y{w}"');["digitIsAscii","extended","posixIsAscii","spaceIsAscii","wordIsAscii","textSegmentMode"].forEach(t=>delete e[t]),Object.assign(e,{global:!1,hasIndices:!1,multiline:!1,sticky:e.sticky??!1}),t.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:e}){if(!e.flags)return;const{enable:t,disable:r}=e.flags;t?.extended&&delete t.extended,r?.extended&&delete r.extended,t?.dotAll&&r?.dotAll&&delete t.dotAll,t?.ignoreCase&&r?.ignoreCase&&delete t.ignoreCase,t&&!Object.keys(t).length&&delete e.flags.enable,r&&!Object.keys(r).length&&delete e.flags.disable,!e.flags.enable&&!e.flags.disable&&delete e.flags},LookaroundAssertion({node:e},t){const{kind:r}=e;"lookbehind"===r&&(t.passedLookbehind=!0)},NamedCallout({node:e,parent:t,replaceWith:r}){const{kind:n}=e;if("fail"!==n)throw new Error(`Unsupported named callout "(*${n.toUpperCase()}"`);r(Ks(On({negate:!0}),t))},Quantifier({node:e}){if("Quantifier"===e.body.type){const t=vn();t.body[0].body.push(e.body),e.body=Ks(t,e)}},Regex:{enter({node:e},{supportedGNodes:t}){const r=[];let n=!1,s=!1;for(const o of e.body)if(1===o.body.length&&"search_start"===o.body[0].kind)o.body.pop();else{const e=Hs(o.body);e?(n=!0,Array.isArray(e)?r.push(...e):r.push(e)):s=!0}n&&!s&&r.forEach(e=>t.add(e))},exit(e,{accuracy:t,passedLookbehind:r,strategy:n}){if("strict"===t&&r&&n)throw new Error(_s`Uses "\G" in a way that requires non-strict accuracy`)}},Subroutine({node:e},{jsGroupNameMap:t}){let{ref:r}=e;"string"!=typeof r||Xs(r)||(r=Fs(r,t),e.ref=r)}},Vs={Backreference({node:e},{multiplexCapturesToLeftByRef:t,reffedNodesByReferencer:r}){const{orphan:n,ref:s}=e;n||r.set(e,[...t.get(s).map(({node:e})=>e)])},CapturingGroup:{enter({node:e,parent:t,replaceWith:r,skip:n},{groupOriginByCopy:s,groupsByName:o,multiplexCapturesToLeftByRef:i,openRefs:a,reffedNodesByReferencer:c}){const l=s.get(e);if(l&&a.has(e.number)){const n=Zs(Bs(e.number),t);return c.set(n,a.get(e.number)),void r(n)}a.set(e.number,e),i.set(e.number,[]),e.name&&bs(i,e.name,[]);const u=i.get(e.name??e.number);for(let p=0;p<u.length;p++){const t=u[p];if(l===t.node||l&&l===t.origin||e===t.origin){u.splice(p,1);break}}if(i.get(e.number).push({node:e,origin:l}),e.name&&i.get(e.name).push({node:e,origin:l}),e.name){const t=bs(o,e.name,new Map);let r=!1;if(l)r=!0;else for(const e of t.values())if(!e.hasDuplicateNameToRemove){r=!0;break}o.get(e.name).set(e,{node:e,hasDuplicateNameToRemove:r})}},exit({node:e},{openRefs:t}){t.delete(e.number)}},Group:{enter({node:e},t){t.prevFlags=t.currentFlags,e.flags&&(t.currentFlags=Es(t.currentFlags,e.flags))},exit(e,t){t.currentFlags=t.prevFlags}},Subroutine({node:e,parent:t,replaceWith:r},n){const{isRecursive:s,ref:o}=e;if(s){let r=t;for(;(r=r.parent)&&("CapturingGroup"!==r.type||r.name!==o&&r.number!==o););return void n.reffedNodesByReferencer.set(e,r)}const i=n.subroutineRefMap.get(o),a=0===o,c=a?Bs(0):Gs(i,n.groupOriginByCopy,null);let l=c;if(!a){const e=Us(function(e,t){const r=[];for(;e=e.parent;)t&&!t(e)||r.push(e);return r}(i,e=>"Group"===e.type&&!!e.flags)),t=e?Es(n.globalFlags,e):n.globalFlags;u=t,p=n.currentFlags,(u.dotAll!==p.dotAll||u.ignoreCase!==p.ignoreCase)&&(l=vn({flags:Ws(t)}),l.body[0].body.push(c))}var u,p;r(Ks(l,t),{traverse:!a})}},$s={Backreference({node:e,parent:t,replaceWith:r},n){if(e.orphan)return void(n.highestOrphanBackref=Math.max(n.highestOrphanBackref,e.ref));const s=n.reffedNodesByReferencer.get(e).filter(t=>function(e,t){let r=t;do{if("Regex"===r.type)return!1;if("Alternative"===r.type)continue;if(r===e)return!1;const t=qs(r.parent);for(const n of t){if(n===r)break;if(n===e||zs(n,e))return!0}}while(r=r.parent);throw new Error("Unexpected path")}(t,e));if(s.length)if(s.length>1){r(Ks(vn({atomic:!0,body:s.reverse().map(e=>In({body:[Pn(e.number)]}))}),t))}else e.ref=s[0].number;else r(Ks(On({negate:!0}),t))},CapturingGroup({node:e},t){e.number=++t.numCapturesToLeft,e.name&&t.groupsByName.get(e.name).get(e).hasDuplicateNameToRemove&&delete e.name},Regex:{exit({node:e},t){const r=Math.max(t.highestOrphanBackref-t.numCapturesToLeft,0);for(let n=0;n<r;n++){const t=Sn();e.body.at(-1).body.push(t)}}},Subroutine({node:e},t){e.isRecursive&&0!==e.ref&&(e.ref=t.reffedNodesByReferencer.get(e).number)}};function Ms(e){Wn(e,{"*"({node:e,parent:t}){e.parent=t}})}function Gs(e,t,r,n){const s=Array.isArray(e)?[]:{};for(const[o,i]of Object.entries(e))"parent"===o?s.parent=Array.isArray(r)?n:r:i&&"object"==typeof i?s[o]=Gs(i,t,s,r):("type"===o&&"CapturingGroup"===i&&t.set(s,t.get(e)??e),s[o]=i);return s}function Bs(e){const t=jn(e);return t.isRecursive=!0,t}function Fs(e,t){if(t.has(e))return t.get(e);const r=`$${t.size}_${e.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/gu,"_")}`;return t.set(e,r),r}function Us(e){const t=["dotAll","ignoreCase"],r={enable:{},disable:{}};return e.forEach(({flags:e})=>{t.forEach(t=>{e.enable?.[t]&&(delete r.disable[t],r.enable[t]=!0),e.disable?.[t]&&(r.disable[t]=!0)})}),Object.keys(r.enable).length||delete r.enable,Object.keys(r.disable).length||delete r.disable,r.enable||r.disable?r:null}function Ws({dotAll:e,ignoreCase:t}){const r={};return(e||t)&&(r.enable={},e&&(r.enable.dotAll=!0),t&&(r.enable.ignoreCase=!0)),e&&t||(r.disable={},!e&&(r.disable.dotAll=!0),!t&&(r.disable.ignoreCase=!0)),r}function qs(e){if(!e)throw new Error("Node expected");const{body:t}=e;return Array.isArray(t)?t:t?[t]:null}function Hs(e){const t=e.find(e=>"search_start"===e.kind||function(e,t){const r={negate:null,...t};return"LookaroundAssertion"===e.type&&(null===r.negate||e.negate===r.negate)&&1===e.body.length&&kn(e.body[0],{type:"Assertion",kind:"search_start"})}(e,{negate:!1})||!function({type:e}){return"Assertion"===e||"Directive"===e||"LookaroundAssertion"===e}(e));if(!t)return null;if("search_start"===t.kind)return t;if("LookaroundAssertion"===t.type)return t.body[0].body[0];if("CapturingGroup"===t.type||"Group"===t.type){const e=[];for(const r of t.body){const t=Hs(r.body);if(!t)return null;Array.isArray(t)?e.push(...t):e.push(t)}return e}return null}function zs(e,t){const r=qs(e)??[];for(const n of r)if(n===t||zs(n,t))return!0;return!1}function Xs(e){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(e)}function Qs(e,t){const r=Cn(e,{...t,unicodePropertyMap:Ss}).body;return r.length>1||r[0].body.length>1?vn({body:r}):r[0].body[0]}function Js(e,t){return e.negate=t,e}function Zs(e,t){return e.parent=t,e}function Ks(e,t){return Ms(e),e.parent=t,e}function Ys(e,t){const r=Cs(t),n=ws(r.target,"ES2024"),s=ws(r.target,"ES2025"),o=r.rules.recursionLimit;if(!Number.isInteger(o)||o<2||o>20)throw new Error("Invalid recursionLimit; use 2-20");let i=null,a=null;if(!s){const t=[e.flags.ignoreCase];Wn(e,eo,{getCurrentModI:()=>t.at(-1),popModI(){t.pop()},pushModI(e){t.push(e)},setHasCasedChar(){t.at(-1)?i=!0:a=!0}})}const c={dotAll:e.flags.dotAll,ignoreCase:!(!e.flags.ignoreCase&&!i||a)};let l=e;const u={accuracy:r.accuracy,appliedGlobalFlags:c,captureMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},inCharClass:!1,lastNode:l,originMap:e._originMap,recursionLimit:o,useAppliedIgnoreCase:!(s||!i||!a),useFlagMods:s,useFlagV:n,verbose:r.verbose};function p(e){u.lastNode=l,l=e;return function(e,t){if(null==e)throw new Error(t??"Value expected");return e}(to[e.type],`Unexpected node type "${e.type}"`)(e,u,p)}const d={pattern:e.body.map(p).join("|"),flags:p(e.flags),options:{...e.options}};return n||(delete d.options.force.v,d.options.disable.v=!0,d.options.unicodeSetsPlugin=null),d._captureTransfers=new Map,d._hiddenCaptures=[],u.captureMap.forEach((e,t)=>{e.hidden&&d._hiddenCaptures.push(t),e.transferTo&&bs(d._captureTransfers,e.transferTo,[]).push(t)}),d}var eo={"*":{enter({node:e},t){if(uo(e)){const r=t.getCurrentModI();t.pushModI(e.flags?Es({ignoreCase:r},e.flags).ignoreCase:r)}},exit({node:e},t){uo(e)&&t.popModI()}},Backreference(e,t){t.setHasCasedChar()},Character({node:e},t){ao(fs(e.value))&&t.setHasCasedChar()},CharacterClassRange({node:e,skip:t},r){t(),co(e,{firstOnly:!0}).length&&r.setHasCasedChar()},CharacterSet({node:e},t){"property"===e.kind&&js.has(e.value)&&t.setHasCasedChar()}},to={Alternative:({body:e},t,r)=>e.map(r).join(""),Assertion({kind:e,negate:t}){if("string_end"===e)return"$";if("string_start"===e)return"^";if("word_boundary"===e)return t?_s`\B`:_s`\b`;throw new Error(`Unexpected assertion kind "${e}"`)},Backreference({ref:e},t){if("number"!=typeof e)throw new Error("Unexpected named backref in transformed AST");if(!t.useFlagMods&&"strict"===t.accuracy&&t.currentFlags.ignoreCase&&!t.captureMap.get(e).ignoreCase)throw new Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+e},CapturingGroup(e,t,r){const{body:n,name:s,number:o}=e,i={ignoreCase:t.currentFlags.ignoreCase},a=t.originMap.get(e);return a&&(i.hidden=!0,o>a.number&&(i.transferTo=a.number)),t.captureMap.set(o,i),`(${s?`?<${s}>`:""}${n.map(r).join("|")})`},Character({value:e},t){const r=fs(e),n=lo(e,{escDigit:"Backreference"===t.lastNode.type,inCharClass:t.inCharClass,useFlagV:t.useFlagV});if(n!==r)return n;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&ao(r)){const e=Ps(r);return t.inCharClass?e.join(""):e.length>1?`[${e.join("")}]`:e[0]}return r},CharacterClass(e,t,r){const{kind:n,negate:s,parent:o}=e;let{body:i}=e;if("intersection"===n&&!t.useFlagV)throw new Error("Use of character class intersection requires min target ES2024");ys.bugFlagVLiteralHyphenIsRange&&t.useFlagV&&i.some(po)&&(i=[Tn(45),...i.filter(e=>!po(e))]);const a=()=>`[${s?"^":""}${i.map(r).join("intersection"===n?"&&":"")}]`;if(!t.inCharClass){if((!t.useFlagV||ys.bugNestedClassIgnoresNegation)&&!s){const t=i.filter(e=>"CharacterClass"===e.type&&"union"===e.kind&&e.negate);if(t.length){const n=vn(),s=n.body[0];return n.parent=o,s.parent=n,i=i.filter(e=>!t.includes(e)),e.body=i,i.length?(e.parent=s,s.body.push(e)):n.body.pop(),t.forEach(e=>{const t=In({body:[e]});e.parent=t,t.parent=n,n.body.push(t)}),r(n)}}t.inCharClass=!0;const n=a();return t.inCharClass=!1,n}const c=i[0];if("union"===n&&!s&&c&&((!t.useFlagV||!t.verbose)&&"union"===o.kind&&(!ys.bugFlagVLiteralHyphenIsRange||!t.useFlagV)||!t.verbose&&"intersection"===o.kind&&1===i.length&&"CharacterClassRange"!==c.type))return i.map(r).join("");if(!t.useFlagV&&"CharacterClass"===o.type)throw new Error("Uses nested character class in a way that requires min target ES2024");return a()},CharacterClassRange(e,t){const r=e.min.value,n=e.max.value,s={escDigit:!1,inCharClass:!0,useFlagV:t.useFlagV},o=lo(r,s),i=lo(n,s),a=new Set;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase){(function(e){const t=e.map(e=>e.codePointAt(0)).sort((e,t)=>e-t),r=[];let n=null;for(let s=0;s<t.length;s++)t[s+1]===t[s]+1?n??=t[s]:null===n?r.push(t[s]):(r.push([n,t[s]]),n=null);return r})(co(e)).forEach(e=>{a.add(Array.isArray(e)?`${lo(e[0],s)}-${lo(e[1],s)}`:lo(e,s))})}return`${o}-${i}${[...a].join("")}`},CharacterSet({kind:e,negate:t,value:r,key:n},s){if("dot"===e)return s.currentFlags.dotAll?s.appliedGlobalFlags.dotAll||s.useFlagMods?".":"[^]":_s`[^\n]`;if("digit"===e)return t?_s`\D`:_s`\d`;if("property"===e){if(s.useAppliedIgnoreCase&&s.currentFlags.ignoreCase&&js.has(r))throw new Error(`Unicode property "${r}" can't be case-insensitive when other chars have specific case`);return`${t?_s`\P`:_s`\p`}{${n?`${n}=`:""}${r}}`}if("word"===e)return t?_s`\W`:_s`\w`;throw new Error(`Unexpected character set kind "${e}"`)},Flags:(e,t)=>(t.appliedGlobalFlags.ignoreCase?"i":"")+(e.dotAll?"s":"")+(e.sticky?"y":""),Group({atomic:e,body:t,flags:r,parent:n},s,o){const i=s.currentFlags;r&&(s.currentFlags=Es(i,r));const a=t.map(o).join("|"),c=s.verbose||1!==t.length||"Quantifier"===n.type||e||s.useFlagMods&&r?`(?${function(e,t,r){if(e)return">";let n="";if(t&&r){const{enable:e,disable:r}=t;n=(e?.ignoreCase?"i":"")+(e?.dotAll?"s":"")+(r?"-":"")+(r?.ignoreCase?"i":"")+(r?.dotAll?"s":"")}return`${n}:`}(e,r,s.useFlagMods)}${a})`:a;return s.currentFlags=i,c},LookaroundAssertion:({body:e,kind:t,negate:r},n,s)=>`(?${`${"lookahead"===t?"":"<"}${r?"!":"="}`}${e.map(s).join("|")})`,Quantifier:(e,t,r)=>r(e.body)+function({kind:e,max:t,min:r}){let n;n=r||1!==t?r||t!==1/0?1===r&&t===1/0?"+":r===t?`{${r}}`:`{${r},${t===1/0?"":t}}`:"*":"?";return n+{greedy:"",lazy:"?",possessive:"+"}[e]}(e),Subroutine({isRecursive:e,ref:t},r){if(!e)throw new Error("Unexpected non-recursive subroutine in transformed AST");const n=r.recursionLimit;return 0===t?`(?R=${n})`:_s`\g<${t}&R=${n}>`}},ro=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),no=new Set(["-","\\","]","^","["]),so=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),oo=new Map([[9,_s`\t`],[10,_s`\n`],[11,_s`\v`],[12,_s`\f`],[13,_s`\r`],[8232,_s`\u2028`],[8233,_s`\u2029`],[65279,_s`\uFEFF`]]),io=new RegExp("^\\p{Cased}$","u");function ao(e){return io.test(e)}function co(e,t){const r=!!t?.firstOnly,n=e.min.value,s=e.max.value,o=[];if(n<65&&(65535===s||s>=131071)||65536===n&&s>=131071)return o;for(let i=n;i<=s;i++){const e=fs(i);if(!ao(e))continue;const t=Ps(e).filter(e=>{const t=e.codePointAt(0);return t<n||t>s});if(t.length&&(o.push(...t),r))break}return o}function lo(e,{escDigit:t,inCharClass:r,useFlagV:n}){if(oo.has(e))return oo.get(e);if(e<32||e>126&&e<160||e>262143||t&&((s=e)>47&&s<58))return e>255?`\\u{${e.toString(16).toUpperCase()}}`:`\\x${e.toString(16).toUpperCase().padStart(2,"0")}`;var s;const o=r?n?so:no:ro,i=fs(e);return(o.has(i)?"\\":"")+i}function uo({type:e}){return"CapturingGroup"===e||"Group"===e||"LookaroundAssertion"===e}function po({type:e,value:t}){return"Character"===e&&45===t}var ho=class e extends RegExp{#e=new Map;#t=null;#r;#n=null;#s=null;rawOptions={};get source(){return this.#r||"(?:)"}constructor(t,r,n){const s=!!n?.lazyCompile;if(t instanceof RegExp){if(n)throw new Error("Cannot provide options when copying a regexp");const s=t;super(s,r),this.#r=s.source,s instanceof e&&(this.#e=s.#e,this.#n=s.#n,this.#s=s.#s,this.rawOptions=s.rawOptions)}else{const e={hiddenCaptures:[],strategy:null,transfers:[],...n};super(s?"":t,r),this.#r=t,this.#e=function(e,t){const r=new Map;for(const n of e)r.set(n,{hidden:!0});for(const[n,s]of t)for(const e of s)bs(r,e,{}).transferTo=n;return r}(e.hiddenCaptures,e.transfers),this.#s=e.strategy,this.rawOptions=n??{}}s||(this.#t=this)}exec(t){if(!this.#t){const{lazyCompile:t,...r}=this.rawOptions;this.#t=new e(this.#r,this.flags,r)}const r=this.global||this.sticky,n=this.lastIndex;if("clip_search"===this.#s&&r&&n){this.lastIndex=0;const e=this.#o(t.slice(n));return e&&(!function(e,t,r,n){if(e.index+=t,e.input=r,n){const r=e.indices;for(let e=0;e<r.length;e++){const n=r[e];n&&(r[e]=[n[0]+t,n[1]+t])}const n=r.groups;n&&Object.keys(n).forEach(e=>{const r=n[e];r&&(n[e]=[r[0]+t,r[1]+t])})}}(e,n,t,this.hasIndices),this.lastIndex+=n),e}return this.#o(t)}#o(e){this.#t.lastIndex=this.lastIndex;const t=super.exec.call(this.#t,e);if(this.lastIndex=this.#t.lastIndex,!t||!this.#e.size)return t;const r=[...t];let n;t.length=1,this.hasIndices&&(n=[...t.indices],t.indices.length=1);const s=[0];for(let o=1;o<r.length;o++){const{hidden:e,transferTo:i}=this.#e.get(o)??{};if(e?s.push(null):(s.push(t.length),t.push(r[o]),this.hasIndices&&t.indices.push(n[o])),i&&void 0!==r[o]){const e=s[i];if(!e)throw new Error(`Invalid capture transfer to "${e}"`);if(t[e]=r[o],this.hasIndices&&(t.indices[e]=n[o]),t.groups){this.#n||(this.#n=mo(this.source));const e=this.#n.get(i);e&&(t.groups[e]=r[o],this.hasIndices&&(t.indices.groups[e]=n[o]))}}}return t}};function mo(e){const t=/(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu,r=new Map;let n,s=0,o=0;for(;n=t.exec(e);){const{0:e,groups:{capture:t,name:i}}=n;"["===e?s++:s?"]"===e&&s--:t&&(o++,i&&r.set(o,i))}return r}function go(e,t){const r=function(e,t){const r=Cs(t),n=Cn(e,{flags:r.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:r.rules.captureGroup,singleline:r.rules.singleline},skipBackrefValidation:r.rules.allowOrphanBackrefs,unicodePropertyMap:Ss}),s=function(e,t){const r={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...t};Ms(e);const n={accuracy:r.accuracy,asciiWordBoundaries:r.asciiWordBoundaries,avoidSubclass:r.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:ws(r.bestEffortTarget,"ES2024"),passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:e.flags.digitIsAscii,spaceIsAscii:e.flags.spaceIsAscii,wordIsAscii:e.flags.wordIsAscii};Wn(e,Ds,n);const s={dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},o={currentFlags:s,prevFlags:null,globalFlags:s,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:n.subroutineRefMap};return Wn(e,Vs,o),Wn(e,$s,{groupsByName:o.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:o.reffedNodesByReferencer}),e._originMap=o.groupOriginByCopy,e._strategy=n.strategy,e}(n,{accuracy:r.accuracy,asciiWordBoundaries:r.rules.asciiWordBoundaries,avoidSubclass:r.avoidSubclass,bestEffortTarget:r.target}),o=Ys(s,r),i=function(e,t){const{hiddenCaptures:r,mode:n}={hiddenCaptures:[],mode:"plugin",...t};let s=t?.captureTransfers??new Map;if(!new RegExp(is,"su").test(e))return{pattern:e,captureTransfers:s,hiddenCaptures:r};if("plugin"===n&&Yn(e,ss`\(\?\(DEFINE\)`,Jn.DEFAULT))throw new Error("DEFINE groups cannot be used with recursion");const o=[],i=Yn(e,ss`\\[1-9]`,Jn.DEFAULT),a=new Map,c=[];let l,u=!1,p=0,d=0;for(ls.lastIndex=0;l=ls.exec(e);){const{0:t,groups:{captureName:h,rDepth:m,gRNameOrNum:g,gRDepth:f}}=l;if("["===t)p++;else if(p)"]"===t&&p--;else{if(m){if(ps(m),u)throw new Error(us);if(i)throw new Error(("external"===n?"Backrefs":"Numbered backrefs")+" cannot be used with global recursion");const t=e.slice(0,l.index),a=e.slice(ls.lastIndex);if(Yn(a,is,Jn.DEFAULT))throw new Error(us);const c=+m-1;e=ds(t,a,c,!1,r,o,d),s=gs(s,t,c,o.length,0,d);break}if(g){ps(f);let p=!1;for(const e of c)if(e.name===g||e.num===+g){if(p=!0,e.hasRecursedWithin)throw new Error(us);break}if(!p)throw new Error(ss`Recursive \g cannot be used outside the referenced group "${"external"===n?g:ss`\g<${g}&R=${f}>`}"`);const h=a.get(g),m=es(e,h);if(i&&Yn(m,ss`${as}|\((?!\?)`,Jn.DEFAULT))throw new Error(("external"===n?"Backrefs":"Numbered backrefs")+" cannot be used with recursion of capturing groups");const _=e.slice(h,l.index),y=m.slice(_.length+t.length),E=o.length,b=+f-1,w=ds(_,y,b,!0,r,o,d);s=gs(s,_,b,o.length-E,E,d);const k=e.slice(0,h),A=e.slice(h+m.length);e=`${k}${w}${A}`,ls.lastIndex+=w.length-t.length-_.length-y.length,c.forEach(e=>e.hasRecursedWithin=!0),u=!0}else if(h)d++,a.set(String(d),ls.lastIndex),a.set(h,ls.lastIndex),c.push({num:d,name:h});else if("("===t[0]){const e="("===t;e&&(d++,a.set(String(d),ls.lastIndex)),c.push(e?{num:d}:{})}else")"===t&&c.pop()}}return r.push(...o),{pattern:e,captureTransfers:s,hiddenCaptures:r}}(o.pattern,{captureTransfers:o._captureTransfers,hiddenCaptures:o._hiddenCaptures,mode:"external"}),a=function(e,t){const r=t?.hiddenCaptures??[];let n=t?.captureTransfers??new Map;if(!/\(\?>/.test(e))return{pattern:e,captureTransfers:n,hiddenCaptures:r};const s="(?:(?=(",o=[0],i=[];let a,c=0,l=0,u=NaN;do{a=!1;let t,p=0,d=0,h=!1;for(ts.lastIndex=Number.isNaN(u)?0:u+7;t=ts.exec(e);){const{0:m,index:g,groups:{capturingStart:f,noncapturingStart:_}}=t;if("["===m)p++;else if(p)"]"===m&&p--;else if("(?>"!==m||h){if(h&&_)d++;else if(f)h?d++:(c++,o.push(c+l));else if(")"===m&&h){if(!d){l++;const t=c+l;if(e=`${e.slice(0,u)}${s}${e.slice(u+3,g)}))<$$${t}>)${e.slice(g+1)}`,a=!0,i.push(t),Xn(r,t),n.size){const e=new Map;n.forEach((r,n)=>{e.set(n>=t?n+1:n,r.map(e=>e>=t?e+1:e))}),n=e}break}d--}}else u=g,h=!0}}while(a);return r.push(...i),{pattern:e=Zn(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:e,groups:{backrefNum:t,wrappedBackrefNum:r}})=>{if(t){const r=+t;if(r>o.length-1)throw new Error(`Backref "${e}" greater than number of captures`);return`\\${o[r]}`}return`\\${r}`},Jn.DEFAULT),captureTransfers:n,hiddenCaptures:r}}(function(e){if(!new RegExp(`${rs}\\+`).test(e))return{pattern:e};const t=[];let r,n=null,s=null,o="",i=0;for(ns.lastIndex=0;r=ns.exec(e);){const{0:a,index:c,groups:{qBase:l,qMod:u,invalidQ:p}}=r;if("["===a)i||(s=c),i++;else if("]"===a)i?i--:s=null;else if(!i)if("+"===u&&o&&!o.startsWith("(")){if(p)throw new Error(`Invalid quantifier "${a}"`);let t=-1;if(/^\{\d+\}$/.test(l))e=Qn(e,c+l.length,u,"");else{if(")"===o||"]"===o){const t=")"===o?n:s;if(null===t)throw new Error(`Invalid unmatched "${o}"`);e=`${e.slice(0,t)}(?>${e.slice(t,c)}${l})${e.slice(c+a.length)}`}else e=`${e.slice(0,c-o.length)}(?>${o}${l})${e.slice(c+a.length)}`;t+=4}ns.lastIndex+=t}else"("===a[0]?t.push(c):")"===a&&(n=t.length?t.pop():null);o=a}return{pattern:e}}(i.pattern).pattern,{captureTransfers:i.captureTransfers,hiddenCaptures:i.hiddenCaptures}),c={pattern:a.pattern,flags:`${r.hasIndices?"d":""}${r.global?"g":""}${o.flags}${o.options.disable.v?"u":"v"}`};if(r.avoidSubclass){if(r.lazyCompileLength!==1/0)throw new Error("Lazy compilation requires subclass")}else{const e=a.hiddenCaptures.sort((e,t)=>e-t),t=Array.from(a.captureTransfers),n=s._strategy,o=c.pattern.length>=r.lazyCompileLength;(e.length||t.length||n||o)&&(c.options={...e.length&&{hiddenCaptures:e},...t.length&&{transfers:t},...n&&{strategy:n},...o&&{lazyCompile:o}})}return c}(e,t);return r.options?new ho(r.pattern,r.flags,r.options):new RegExp(r.pattern,r.flags)}const fo=4294967295;class _o{constructor(e,t={}){this.patterns=e,this.options=t;const{forgiving:r=!1,cache:n,regexConstructor:s}=t;if(!s)throw new Error("Option `regexConstructor` is not provided");this.regexps=e.map(e=>{if("string"!=typeof e)return e;const t=n?.get(e);if(t){if(t instanceof RegExp)return t;if(r)return null;throw t}try{const t=s(e);return n?.set(e,t),t}catch(o){if(n?.set(e,o),r)return null;throw o}})}regexps;findNextMatchSync(e,t,r){const n="string"==typeof e?e:e.content,s=[];function o(e,t,r=0){return{index:e,captureIndices:t.indices.map(e=>null==e?{start:fo,end:fo,length:0}:{start:e[0]+r,end:e[1]+r,length:e[1]-e[0]})}}for(let a=0;a<this.regexps.length;a++){const e=this.regexps[a];if(e)try{e.lastIndex=t;const r=e.exec(n);if(!r)continue;if(r.index===t)return o(a,r,0);s.push([a,r,0])}catch(i){if(this.options.forgiving)continue;throw i}}if(s.length){const e=Math.min(...s.map(e=>e[1].index));for(const[t,r,n]of s)if(r.index===e)return o(t,r,n)}return null}}var yo=m("block","before:content-[counter(line)]","before:inline-block","before:[counter-increment:line]","before:w-4","before:mr-4","before:text-[13px]","before:text-right","before:text-muted-foreground/50","before:font-mono","before:select-none"),Eo=u.memo(({children:e,result:t,language:r,className:n,...s})=>{let o=u.useMemo(()=>({backgroundColor:t.bg,color:t.fg}),[t.bg,t.fg]);return d.jsx("pre",{className:m(n,"p-4 text-sm dark:bg-(--shiki-dark-bg)!"),"data-language":r,"data-streamdown":"code-block-body",style:o,...s,children:d.jsx("code",{className:"[counter-increment:line_0] [counter-reset:line]",children:t.tokens.map((e,t)=>d.jsx("span",{className:yo,children:e.map((e,t)=>d.jsx("span",{className:"dark:bg-(--shiki-dark-bg)! dark:text-(--shiki-dark)!",style:{color:e.color,backgroundColor:e.bgColor,...e.htmlStyle},...e.htmlAttrs,children:e.content},t))},t))})})},(e,t)=>e.result===t.result&&e.language===t.language&&e.className===t.className),bo=({className:e,language:t,style:r,...n})=>d.jsx("div",{className:m("my-4 w-full overflow-hidden rounded-xl border border-border",e),"data-language":t,"data-streamdown":"code-block",style:{contentVisibility:"auto",containIntrinsicSize:"auto 200px",...r},...n}),wo=({language:e,children:t})=>d.jsxs("div",{className:"flex items-center justify-between bg-muted/80 p-3 text-muted-foreground text-xs","data-language":e,"data-streamdown":"code-block-header",children:[d.jsx("span",{className:"ml-1 font-mono lowercase",children:e}),d.jsx("div",{className:"flex items-center gap-2",children:t})]}),ko=function(e={}){const t=Object.assign({target:"auto",cache:new Map},e);return t.regexConstructor||=e=>function(e,t){return go(e,{global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...t})}(e,{target:t.target}),{createScanner:e=>new _o(e,t),createString:e=>({content:e})}}({forgiving:!0}),Ao=new Map,Co=new Map,Io=new Map,Lo=e=>Object.hasOwn(Lr,e),Po=(e,t,r,n)=>{let s=Lo(t)?t:"text",o=((e,t,r)=>{let n=e.slice(0,100),s=e.length>100?e.slice(-100):"";return`${t}:${r[0]}:${r[1]}:${e.length}:${n}:${s}`})(e,s,r);return Co.has(o)?Co.get(o):(n&&(Io.has(o)||Io.set(o,new Set),Io.get(o).add(n)),((e,t)=>{let r=Lo(e)?e:"text",n=((e,t)=>`${e}-${t[0]}-${t[1]}`)(r,t);if(Ao.has(n))return Ao.get(n);let s=Ur({themes:t,langs:[r],engine:ko});return Ao.set(n,s),s})(s,r).then(t=>{let n=t.codeToTokens(e,{lang:s,themes:{light:r[0],dark:r[1]}});Co.set(o,n);let i=Io.get(o);if(i){for(let e of i)e(n);Io.delete(o)}}).catch(e=>{console.error("Failed to highlight code:",e),Io.delete(o)}),null)},So=({code:e,language:t,className:r,children:n,...s})=>{let{shikiTheme:o}=u.useContext(p),i=u.useMemo(()=>({bg:"transparent",fg:"inherit",tokens:e.split("\n").map(e=>[{content:e,color:"inherit",bgColor:"transparent",htmlStyle:{},offset:0}])}),[e]),[a,c]=u.useState(i);return u.useEffect(()=>{let r=Po(e,t,o);r?c(r):Po(e,t,o,e=>{c(e)})},[e,t,o]),d.jsx(h.Provider,{value:{code:e},children:d.jsxs(bo,{language:t,children:[d.jsx(wo,{language:t,children:n}),d.jsx(Eo,{className:r,language:t,result:a,...s})]})})};export{So as CodeBlock};
